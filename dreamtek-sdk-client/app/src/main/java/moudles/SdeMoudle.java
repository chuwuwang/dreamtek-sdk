package moudles;

import android.app.Activity;
import android.content.Context;

import com.laikey.jatools.Utils;
import com.verifone.smartpos.utils.BCDDecode;
import com.verifone.smartpos.utils.StringUtil;
import com.verifone.smartpos.utils.TlvUtil;
import com.dreamtek.smartpos.deviceservice.aidl.EMVHandler;
import com.dreamtek.smartpos.deviceservice.aidl.IEMV;
import com.dreamtek.smartpos.deviceservice.aidl.IPinpad;
import com.dreamtek.smartpos.deviceservice.aidl.IssuerUpdateHandler;
import com.dreamtek.smartpos.deviceservice.aidl.OnlineResultHandler;
import com.dreamtek.smartpos.deviceservice.aidl.RequestACTypeHandler;
import com.dreamtek.smartpos.deviceservice.aidl.key_manager.IDukpt;
import com.dreamtek.smartpos.deviceservice.aidl.sde.CardDetectionListener;
import com.dreamtek.smartpos.deviceservice.aidl.sde.ISde;
import com.dreamtek.smartpos.deviceservice.aidl.sde.SecurityPinInputListener;

import java.lang.reflect.Method;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Set;

import android.content.Intent;
import android.os.Bundle;
import android.os.Handler;
import android.os.Message;
import android.os.RemoteException;
import android.util.Log;


import Utils.LogUtils;
import base.MyApplication;
import entity.cases.KeyBoardDatas;
import testtools.ToastUtil;
import view.PinInputActivity;
import view.SecurityKeyboardActivity;

import static android.content.ContentValues.TAG;
import static moudles.DukptMoudle.getRandomString;

public class SdeMoudle {
    Context context;
    ISde iSde;
    IDukpt iDukpt;
    IEMV iEmv;
    IPinpad iPinpad;
    LogUtils logUtils;
    ArrayList<String> apiList = new ArrayList<String>();
    ArrayList<ArrayList<String>> caseNames = new ArrayList<ArrayList<String>>();
    ArrayList<String> setEncryptDataKey = new ArrayList<>();//设置加密数据秘钥
    ArrayList<String> getEncryptedMsgData = new ArrayList<>();//敏感数据计算
    ArrayList<String> cardDetection = new ArrayList<>();
    ArrayList<String> setObfuscatedPanNum = new ArrayList<>();
    ArrayList<String> getEncryptedData = new ArrayList<>();
    ArrayList<String> initSecurityKeyBoardView = new ArrayList<>();
    ArrayList<String> startSecurityKeyBoardEntry = new ArrayList<>();
    ArrayList<String> initPinInputView = new ArrayList<>();
    ArrayList<String> startPinpad = new ArrayList<>();
    ArrayList<String> cleanSensitiveData = new ArrayList<>();
    ArrayList<String> getSDEVer = new ArrayList<>();
    ArrayList<String> loadDukptKey = new ArrayList<>();
    ArrayList<String> startEMV = new ArrayList<>();
    ArrayList<String> abortEMV = new ArrayList<String>();
    ArrayList<String> importAppSelection = new ArrayList<String>();
    ArrayList<String> importPin = new ArrayList<String>();
    ArrayList<String> importCardConfirmResult = new ArrayList<String>();
    ArrayList<String> importOnlineResult = new ArrayList<String>();
    ArrayList<String> setEMVData = new ArrayList<String>();
    ArrayList<String> getAppTLVList = new ArrayList<String>();
    ArrayList<String> getEMVData = new ArrayList<String>();
    ArrayList<String> registerKernelAID = new ArrayList<String>();
    ArrayList<String> emvProcessingRequestOnline = new ArrayList<>();
    ArrayList<String> enableTrack = new ArrayList<String>();
    ArrayList<String> byPassPin = new ArrayList<String>();
    ArrayList<String> setAcType = new ArrayList<String>();


    private String dukptKey = getRandomString(32); // IPEK
    //    private String dukptKey = "6AC292FAA1315B4D858AB3A3D7D5933B";
    private String ksn = "FFFF9876543210E00000";
    private String ksnAES = "1280000F9876541280E00000";
    boolean verifyResult = false;


    public SdeMoudle(Context context, ISde iSde, IEMV iemv, IDukpt iDukpt, IPinpad iPinpad) {
        this.context = context;
        logUtils = MyApplication.serviceMoudle.logUtils;
        this.iSde = iSde;
        this.iEmv = iemv;
        this.iDukpt = iDukpt;
        this.iPinpad = iPinpad;
        try {
            Log.d(TAG,"sde version="+iSde.getSDEVer());
        } catch (RemoteException e) {
            e.printStackTrace();
        }
        addAllapi();
    }

    String pinBlock1,ksn1;
    boolean isByPass1,isEncrypt1;
    public SdeMoudle(String pinBlock, String ksn, boolean isByPass, boolean isEncrypt){
        pinBlock1 = pinBlock;
        ksn1 = ksn;
        isByPass1 = isByPass;
        isEncrypt1 = isEncrypt;
    }

    private void addAllapi() {
        try {
            Class aClass = Class.forName("moudles.SdeMoudle");
            Method[] methods = aClass.getDeclaredMethods();
            for (Method i : methods) {
                if (i.getName().startsWith("My")) {
                    apiList.add(i.getName().replace("My", ""));
                } else {
                    switch (i.getName().substring(0, 3)) {
                        case "Q01":
                            setEncryptDataKey.add(i.getName());
                            break;
                        case "Q02":
                            getEncryptedMsgData.add(i.getName());
                            break;
                        case "Q03":
                            cardDetection.add(i.getName());
                            break;
                        case "Q04":
                            setObfuscatedPanNum.add(i.getName());
                            break;
                        case "Q05":
                            getEncryptedData.add(i.getName());
                            break;
                        case "Q06":
                            initSecurityKeyBoardView.add(i.getName());
                            break;
                        case "Q07":
                            startSecurityKeyBoardEntry.add(i.getName());
                            break;
                        case "Q08":
                            initPinInputView.add(i.getName());
                            break;
                        case "Q09":
                            startPinpad.add(i.getName());
                            break;
                        case "Q10":
                            cleanSensitiveData.add(i.getName());
                            break;
                        case "Q11":
                            getSDEVer.add(i.getName());
                            break;
                        case "Q12":
                            loadDukptKey.add(i.getName());
                            break;
                        case "Q13":
                            startEMV.add(i.getName());
                            break;
                        case "Q14":
                            abortEMV.add(i.getName());
                            break;
                        case "Q15":
                            importAppSelection.add(i.getName());
                            break;
                        case "Q16":
                            importPin.add(i.getName());
                            break;
                        case "Q17":
                            importCardConfirmResult.add(i.getName());
                            break;
                        case "Q18":
                            importOnlineResult.add(i.getName());
                            break;
                        case "Q19":
                            setEMVData.add(i.getName());
                            break;
                        case "Q20":
                            getAppTLVList.add(i.getName());
                            break;
                        case "Q21":
                            getEMVData.add(i.getName());
                            break;
                        case "Q22":
                            registerKernelAID.add(i.getName());
                            break;
                        case "Q23":
                            emvProcessingRequestOnline.add(i.getName());
                            break;
                        case "Q24":
                            enableTrack.add(i.getName());
                            break;
                        case "Q25":
                            byPassPin.add(i.getName());
                            break;
                        case "Q26":
                            setAcType.add(i.getName());
                            break;
                    }
                }
            }
            caseNames.add(setEncryptDataKey);
            caseNames.add(getEncryptedMsgData);
            caseNames.add(cardDetection);
            caseNames.add(setObfuscatedPanNum);
            caseNames.add(getEncryptedData);
            caseNames.add(initSecurityKeyBoardView);
            caseNames.add(startSecurityKeyBoardEntry);
            caseNames.add(initPinInputView);
            caseNames.add(startPinpad);
            caseNames.add(cleanSensitiveData);
            caseNames.add(getSDEVer);
            caseNames.add(loadDukptKey);
            caseNames.add(startEMV);
            caseNames.add(abortEMV);
            caseNames.add(importAppSelection);
            caseNames.add(importPin);
            caseNames.add(importCardConfirmResult);
            caseNames.add(importOnlineResult);
            caseNames.add(setEMVData);
            caseNames.add(getAppTLVList);
            caseNames.add(getEMVData);
            caseNames.add(registerKernelAID);
            caseNames.add(emvProcessingRequestOnline);
            caseNames.add(enableTrack);
            caseNames.add(byPassPin);
            caseNames.add(setAcType);
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        }
    }

    Handler handler = new Handler() {
        @Override
        public void handleMessage(Message msg) {
            super.handleMessage(msg);
            logUtils.addCaseLog(msg.getData().getString("message"));
            logUtils.showCaseLog();
        }
    };

    String VISA_ctls_AID = "9F0607A00000000310109F09020200DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0B8C89F4005F000F0A0019F1D082CE2000000000000DF1205DC4004F800DF1105DC4000A800DF2006000000100000DF1906000000000000DF21060000001500019F660433004000DF180101";
    String VISA_AID = "9F0607A00000000310109F09020200DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150220209F1A0207645F2A0207649F3501229F3303E0B8C89F4005F000F0A001DF13050010000000DF1205DC4004F800DF1105DC4000A800";
    String MASTER_ctls_AID = "9F0607A00000000410109F09020002DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0B8C89F4005F000F0A0019F1D082CE2000000000000DF1205F45084800CDF1105F45084800CDF2006000000100000DF811801B8DF811E01009F1D082CE2000000000000DF81190108DF811B0130DF1906000000000000DF21060000001500009F6604A2000000DF180101DF13050000000000";
    String MASTER_AID = "9F0607A00000000410109F09020002DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0B8C89F4005F000F0A001DF13050000000000DF1205FE50B8F800DF1105FE50B8A000DF180101";
    String JCB_ctls_AID = "9F0607A00000006510109F09020200DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0B8C89F4005F000F0A0019F1D082CE2000000000000DF1205FC60ACF800DF1105FC6024A800DF2006999999999999DF1906000000000000DF21060000001500019F6604A2000000DF180101";
    String JCB_AID = "9F0607A00000006510109F09020200DF0101009F1B0400000000DF150400000000DF170110DF16013097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0B8C89F4005F000F0A001DF13050010000000DF1205FC60ACF800DF1105FC6024A800DF180101";
    String UNIONPAY_AID = "9F0607A00000033301019F09020020DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0F8C89F4005F000F0A001DF13050000000000DF1205DC4004F800DF1105D84000A800DF180101";

    String VISA_RID = "9F0605A000000003DF0314B4BC56CC4E88324932CBC643D6898F6FE593B172DF028190A89F25A56FA6DA258C8CA8B40427D927B4A1EB4D7EA326BBB12F97DED70AE5E4480FC9C5E8A972177110A1CC318D06D2F8F5C4844AC5FA79A4DC470BB11ED635699C17081B90F1B984F12E92C1C529276D8AF8EC7F28492097D8CD5BECEA16FE4088F6CFAB4A1B42328A1B996F9278B0B7E3311CA5EF856C2F888474B83612A82E4E00D0CD4069A6783140433D50725F9F220107DF0503311217DF040103";
    String MASTER_RID = "9F0605A000000004DF0314381A035DA58B482EE2AF75F4C3F2CA469BA4AA6CDF028190A6DA428387A502D7DDFB7A74D3F412BE762627197B25435B7A81716A700157DDD06F7CC99D6CA28C2470527E2C03616B9C59217357C2674F583B3BA5C7DCF2838692D023E3562420B4615C439CA97C44DC9A249CFCE7B3BFB22F68228C3AF13329AA4A613CF8DD853502373D62E49AB256D2BC17120E54AEDCED6D96A4287ACC5C04677D4A5A320DB8BEE2F775E5FEC59F220104DF050400000000DF040103";
    String JCB_RID = "9F0605A000000065DF0314C75E5210CBE6E8F0594A0F1911B07418CADB5BABDF02819099B63464EE0B4957E4FD23BF923D12B61469B8FFF8814346B2ED6A780F8988EA9CF0433BC1E655F05EFA66D0C98098F25B659D7A25B8478A36E489760D071F54CDF7416948ED733D816349DA2AADDA227EE45936203CBF628CD033AABA5E5A6E4AE37FBACB4611B4113ED427529C636F6C3304F8ABDD6D9AD660516AE87F7F2DDF1D2FA44C164727E56BBC9BA23C02859F220110DF050400000000DF040103";
    String RUPAY_CTLS_AID1 = "9F0607A00000052460009F09020064DF0101009F1B0400004E20DF1506000000000500DF170100DF14039F37049F1A0203565F2A0203569F3501229F3303E068089F4005FF80F0A0019F7B06000000001388DF13051010000000DF1205A468FC9800DF1105A468DC9800DF2006000099999999DF1906000000020000DF2106000000500000DF2A020356DF180101";
    String RUPAY_CTLS_AID2 = "9F0607A00000052410109F09020002DF0101009F1B0400004E20DF1506000000000000DF170100DF14039F37049F1A0203565F2A0203569F3501229F3303E068089F4005FF80F0A0019F7B06000000001388DF13051010000000DF1205A468FC9800DF1105A468DC9800DF2006000099999999DF1906000000020000DF2106000000500000DF2A020356DF180101";
    String RUPAY_CTLS_AID3 = "9F0607A00000052410119F09020002DF0101009F1B0400004E20DF1506000000000000DF170100DF14039F37049F1A0203565F2A0203569F3501229F3303E068089F4005FF80F0A0019F7B06000000001388DF13051010000000DF1205A468FC9800DF1105A468DC9800DF2006000099999999DF1906000000020000DF2106000000500000DF2A020356DF180101";
    String AMEX_CTLS_AID = "9F0606A000000025019F09020001DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0F8C89F4005F000F0A001DF1205DE00FC9800DF1105DC50fc9800DF2006000000100000DF1906000000000000DF21060000001500019F6604B6404280DF180101DF13050000000000";
    String AMEX_CT_AID = "9F0606A000000025019F09020001DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150A393739353831383939369F1A0207645F2A0207649F3501229F3303E0F8C89F4005F000F0A001DF13050010000000DF1205DE00FC9800DF1105DC50fc9800DF180101";
    String Diners_CTLS_AID1 = "9F0607A00000015230109F09020001DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0F8C89F4005F000F0A001DF1205FCE09CF800DF1105DC00002000DF2006999999999999DF1906000000000000DF21060000001500019F6604B6404280DF180101";
    String Diners_CT_AID1 = "9F0607A00000015230109F09020001DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150A393739353831383939369F1A0207645F2A0207649F3501229F3303E0F8C89F4005F000F0A001DF13050010000000DF1205FCE09CF800DF1105DC00002000DF180101";
    String Diners_CTLS_AID2 = "9F0607A00000015240109F09020001DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0F8C89F4005F000F0A001DF1205FCE09CF800DF1105DC00002000DF2006999999999999DF1906000000000000DF21060000001500019F6604B6404280DF180101";
    String Diners_CT_AID2 = "9F0607A00000015240109F09020001DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150A393739353831383939369F1A0207645F2A0207649F3501229F3303E0F8C89F4005F000F0A001DF13050010000000DF1205FCE09CF800DF1105DC00002000DF180101";
    String UPI_CT_AID1 = "9F0607A00000033301019F09020020DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0F8C89F4005F000F0A001DF13050000000000DF1205DC4004F800DF1105D84000A800DF180101";
    String UPI_CT_AID2 = "9F0607A00000033301029F09020020DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0F8C89F4005F000F0A001DF13050000000000DF1205DC4004F800DF1105D84000A800DF180101";
    String UPI_CT_AID3 = "9F0607A00000033301039F09020020DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0F8C89F4005F000F0A001DF13050000000000DF1205DC4004F800DF1105D84000A800DF180101";
    String UPI_CTLS_AID1 = "9F0607A00000033301019F09020020DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0F8C89F4005F000F0A0019F1D082CE2000000000000DF1205DC4004F800DF1105D84000A800DF2006999999999999DF1906000000000000DF21060000005000019F660436000000DF180101";
    String UPI_CTLS_AID2 = "9F0607A00000033301029F09020020DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0F8C89F4005F000F0A0019F1D082CE2000000000000DF1205DC4004F800DF1105D84000A800DF2006999999999999DF1906000000000000DF21060000005000019F660436000000DF180101";
    String UPI_CTLS_AID3 = "9F0607A00000033301039F09020020DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0F8C89F4005F000F0A0019F1D082CE2000000000000DF1205DC4004F800DF1105D84000A800DF2006999999999999DF1906000000000000DF21060000005000019F660436000000DF180101";
    String PURE_CTLS_AID = "9F0607A00000061500019F09020200DF0101009F1B0400000000DF150400000000DF170100DF16010097099F1A0295059A039C01DF14039F37049F150F2020202020202020202020202020209F1A0207645F2A0207649F3501229F3303E0B8C89F4005F000F0A0019F1D082CE2000000000000DF1205DC4004F800DF1105DC4000A800DF2006999999999999DF1906000000000000DF21060000001500019F660433004000DF180101DF13050000000000";

    String[] AID_SmartCard = {"9F0607A00000000310109F0902008CDF0101009F1B0400000000DF150400000000DF170101DF16010197099F1A0295059A039C01DF14039F37049F1A0203565F2A0203569F3501229F3303E0F0C89F4005F000F0A0019F7B06000000001388DF13050010000000DF1205DC4004F800DF1105DC4000A800DF180101", "9F0607A00000000320109F0902008CDF0101009F1B0400000000DF150400000000DF170101DF16010197099F1A0295059A039C01DF14039F37049F1A0203565F2A0203569F3501229F3303E0F0C89F4005F000F0A0019F7B06000000001388DF13050010000000DF1205DC4004F800DF1105DC4000A800DF180101", "9F0607A00000000410109F09020002DF0101009F1B0400000000DF150400000000DF170101DF160101970F9F02065F2A029A039C0195059F3704DF14039F37049F1A0203565F2A0203569F3501229F3303E0F0C89F4005F000F0A0019F7B06000000001388DF13050400000000DF1205F850ACF800DF1105FC50ACA000DF180101", "9F0607A00000000430609F09020002DF0101009F1B0400000000DF150400000000DF170101DF160101970F9F02065F2A029A039C0195059F3704DF14039F37049F1A0203565F2A0203569F3501229F3303E0F0C89F4005F000F0A0019F7B06000000001388DF13050400000000DF1205F850ACF800DF1105FC50ACA000DF180101", "9F0606A000000025019F09020001DF0101009F1B0400000000DF150400000000DF170110DF160125DF14039F37049F1A0203565F2A0203569F3501229F3303E0F0C89F4005F000F0A0019F7B06000000001388DF13050000000000DF1205CC00000000DF1105CC00000000DF180101", "9F0607A00000015230109F09020001DF0101009F1B0400000000DF150400000000DF170101DF160199DF14039F37049F1A0203565F2A0203569F3501229F3303E0F0C89F4005F000F0A0019F7B06000000001388DF13050010000000DF1205FFFFFFFFFFDF1105FFFFFFFFFFDF180101", "9F0607A00000052410109F09020064DF0101009F1B0400000000DF150400000000DF170101DF160199DF14039F37049F1A0203565F2A0203569F3501229F3303E0F0C89F4005F000F0A0019F7B06000000001388DF13051010000000DF1205ECE8FC9870DF1105A468DC9800DF180101", "9F0607A00000006510109F09020200DF0101009F1B0400000000DF150400000000DF170101DF160199DF14039F37049F1A0203565F2A0203569F3501229F3303E0F0C89F4005F000F0A0019F7B06000000001388DF13050010000000DF1205FFFFFFFFFFDF1105FFFFFFFFFFDF180101", "9F0607A00000033301019F09020020DF0101009F1B0400000000DF150400000000DF170101DF160199DF14039F37049F1A0203565F2A0203569F3501229F3303E0F0C89F4005F000F0A0019F7B06000000001388DF13050010000000DF1205D84004F800DF1105D84000A800DF180101", "9F0607A00000067701019F09020020DF0101009F1B0400000000DF150400000000DF170101DF160199DF14039F37049F1A0203565F2A0203569F3501229F3303E0F0C89F4005F000F0A0019F7B06000000001388DF13050010000000DF1205D84004F800DF1105D84000A800DF180101",};
    String[] AID_CTLS_Card = {"9F0606A000000025019F09020001DF010100DF150400000000DF170100DF160100DF14039F37049F1A0203565F2A0203569F3501229F3303E0E0889F400572000020019F7B06000000001388DF13050010000000DF1205DE00FC9800DF1105DC50FC9800DF2006000100000000DF1906000000000000DF21060000005000009F6604B6404280DF2A020356DF180101", "9F0607A00000000410109F09020002DF010100DF150400000000DF170100DF160100DF14039F37049F1A0203565F2A0203569F3501229F3303E0F0C89F4005F000F0A0019F7B060000000013889F1D086C62000000000000DF81180170DF811B0120DF13050000000000DF1205FC509C8800DF1105FC509C8800DF2006000100000000DF1906000000000000DF2106000000200000DF2A020356DF180101", "9F0607A00000000430609F09020002DF010100DF150400000000DF170100DF160100DF14039F37049F1A0203565F2A0203569F3501229F3303E0F0C89F4005F000F0A0019F7B060000000013889F1D084C62800000000000DF81180170DF811B01A0DF13050000800000DF1205FC501C8800DF1105FC501C8800DF2006000100000000DF1906000000000000DF2106000000200000DF2A020356DF180101", "9F0607A00000052460009F09020064DF0101009F1B0400004E20DF1506000000000500DF170100DF14039F37049F1A0203565F2A0203569F3501229F3303E068089F4005FF80F0A0019F7B06000000001388DF13051010000000DF1205A468FC9800DF1105A468DC9800DF2006000099999999DF1906000000020000DF2106000000500000DF2A020356DF180101", "9F0607A00000052410109F09020002DF0101009F1B0400004E20DF1506000000000000DF170100DF14039F37049F1A0203565F2A0203569F3501229F3303E068089F4005FF80F0A0019F7B06000000001388DF13051010000000DF1205A468FC9800DF1105A468DC9800DF2006000099999999DF1906000000020000DF2106000000500000DF2A020356DF180101", "9F0607A00000052410119F09020002DF0101009F1B0400004E20DF1506000000000000DF170100DF14039F37049F1A0203565F2A0203569F3501229F3303E068089F4005FF80F0A0019F7B06000000001388DF13051010000000DF1205A468FC9800DF1105A468DC9800DF2006000099999999DF1906000000020000DF2106000000500000DF2A020356DF180101", "9F0607A00000000310109F0902008CDF010100DF150400000000DF170100DF160100970F9F02065F2A029A039C0195059F3704DF14039F37049F1A0203565F2A0203569F3501229F3303E060089F400572000020019F7B06000000001388DF13050400000000DF1205F850ACF800DF1105FC50ACA000DF2006000099999999DF1906000000020000DF21060000002000009F660436204000DF2A020356DF180101", "9F0607A00000000320109F0902008CDF010100DF150400000000DF170100DF160100970F9F02065F2A029A039C0195059F3704DF14039F37049F1A0203565F2A0203569F3501229F3303E060089F400572000020019F7B06000000001388DF13050400000000DF1205F850ACF800DF1105FC50ACA000DF2006000099999999DF1906000000000000DF21060000002000009F660436204000DF2A020356DF180101", "9F0607A00000006510109F09020200DF010100DF1105FC60242800DF1205FC60ACF800DF130500100000009F1B0400000500DF150400000010DF160190DF170110DF14039F3704DF1801009F7B06000000100000DF1906000000100000DF2006000000100000DF2106000000000100",
            "9F0607A00000015230109F09020200DF010100DF1105FC60242800DF1205FC60ACF800DF130500100000009F1B0400000500DF150400000010DF160190DF170110DF14039F3704DF1801009F7B06000000100000DF1906000000100000DF2006000000100000DF21060000000001009F3303E06008"

    };

    String[] ridList = new String[]{"9F2201049F0605A000000004DF040103DF028190A6DA428387A502D7DDFB7A74D3F412BE762627197B25435B7A81716A700157DDD06F7CC99D6CA28C2470527E2C03616B9C59217357C2674F583B3BA5C7DCF2838692D023E3562420B4615C439CA97C44DC9A249CFCE7B3BFB22F68228C3AF13329AA4A613CF8DD853502373D62E49AB256D2BC17120E54AEDCED6D96A4287ACC5C04677D4A5A320DB8BEE2F775E5FEC5DF0314381A035DA58B482EE2AF75F4C3F2CA469BA4AA6CDF060101DF070101DF0503311217", "9F2201EF9F0605A000000004DF040103DF0281F8A191CB87473F29349B5D60A88B3EAEE0973AA6F1A082F358D849FDDFF9C091F899EDA9792CAF09EF28F5D22404B88A2293EEBBC1949C43BEA4D60CFD879A1539544E09E0F09F60F065B2BF2A13ECC705F3D468B9D33AE77AD9D3F19CA40F23DCF5EB7C04DC8F69EBA565B1EBCB4686CD274785530FF6F6E9EE43AA43FDB02CE00DAEC15C7B8FD6A9B394BABA419D3F6DC85E16569BE8E76989688EFEA2DF22FF7D35C043338DEAA982A02B866DE5328519EBBCD6F03CDD686673847F84DB651AB86C28CF1462562C577B853564A290C8556D818531268D25CC98A4CC6A0BDFFFDA2DCCA3A94C998559E307FDDF915006D9A987B07DDAEB3BDF031421766EBB0EE122AFB65D7845B73DB46BAB65427ADF060101DF070101DF0503311217", "9F2201F19F0605A000000004DF040103DF0281B0A0DCF4BDE19C3546B4B6F0414D174DDE294AABBB828C5A834D73AAE27C99B0B053A90278007239B6459FF0BBCD7B4B9C6C50AC02CE91368DA1BD21AAEADBC65347337D89B68F5C99A09D05BE02DD1F8C5BA20E2F13FB2A27C41D3F85CAD5CF6668E75851EC66EDBF98851FD4E42C44C1D59F5984703B27D5B9F21B8FA0D93279FBBF69E090642909C9EA27F898959541AA6757F5F624104F6E1D3A9532F2A6E51515AEAD1B43B3D7835088A2FAFA7BE7DF0314D8E68DA167AB5A85D8C3D55ECB9B0517A1A5B4BBDF060101DF070101DF0503311217", "9F2201FA9F0605A000000004DF040103DF028190A90FCD55AA2D5D9963E35ED0F440177699832F49C6BAB15CDAE5794BE93F934D4462D5D12762E48C38BA83D8445DEAA74195A301A102B2F114EADA0D180EE5E7A5C73E0C4E11F67A43DDAB5D55683B1474CC0627F44B8D3088A492FFAADAD4F42422D0E7013536C3C49AD3D0FAE96459B0F6B1B6056538A3D6D44640F94467B108867DEC40FAAECD740C00E2B7A8852DDF03145BED4068D96EA16D2D77E03D6036FC7A160EA99CDF060101DF070101DF0503311217", "9F2201F39F0605A000000004DF040103DF02819098F0C770F23864C2E766DF02D1E833DFF4FFE92D696E1642F0A88C5694C6479D16DB1537BFE29E4FDC6E6E8AFD1B0EB7EA0124723C333179BF19E93F10658B2F776E829E87DAEDA9C94A8B3382199A350C077977C97AFF08FD11310AC950A72C3CA5002EF513FCCC286E646E3C5387535D509514B3B326E1234F9CB48C36DDD44B416D23654034A66F403BA511C5EFA3DF0314A69AC7603DAF566E972DEDC2CB433E07E8B01A9ADF060101DF070101DF0503311217", "9F2201F89F0605A000000004DF040103DF028180A1F5E1C9BD8650BD43AB6EE56B891EF7459C0A24FA84F9127D1A6C79D4930F6DB1852E2510F18B61CD354DB83A356BD190B88AB8DF04284D02A4204A7B6CB7C5551977A9B36379CA3DE1A08E69F301C95CC1C20506959275F41723DD5D2925290579E5A95B0DF6323FC8E9273D6F849198C4996209166D9BFC973C361CC826E1DF0314F06ECC6D2AAEBF259B7E755A38D9A9B24E2FF3DDDF060101DF070101DF0503311217", "9F2201FE9F0605A000000004DF040103DF028180A653EAC1C0F786C8724F737F172997D63D1C3251C44402049B865BAE877D0F398CBFBE8A6035E24AFA086BEFDE9351E54B95708EE672F0968BCD50DCE40F783322B2ABA04EF137EF18ABF03C7DBC5813AEAEF3AA7797BA15DF7D5BA1CBAF7FD520B5A482D8D3FEE105077871113E23A49AF3926554A70FE10ED728CF793B62A1DF03149A295B05FB390EF7923F57618A9FDA2941FC34E0DF060101DF070101DF0503311217", "9F2201069F0605A000000004DF040103DF0281F8CB26FC830B43785B2BCE37C81ED334622F9622F4C89AAE641046B2353433883F307FB7C974162DA72F7A4EC75D9D657336865B8D3023D3D645667625C9A07A6B7A137CF0C64198AE38FC238006FB2603F41F4F3BB9DA1347270F2F5D8C606E420958C5F7D50A71DE30142F70DE468889B5E3A08695B938A50FC980393A9CBCE44AD2D64F630BB33AD3F5F5FD495D31F37818C1D94071342E07F1BEC2194F6035BA5DED3936500EB82DFDA6E8AFB655B1EF3D0D7EBF86B66DD9F29F6B1D324FE8B26CE38AB2013DD13F611E7A594D675C4432350EA244CC34F3873CBA06592987A1D7E852ADC22EF5A2EE28132031E48F74037E3B34AB747FDF0314F910A1504D5FFB793D94F3B500765E1ABCAD72D9DF060101DF070101DF0503311217", "9F2201059F0605A000000004DF040103DF0281B0B8048ABC30C90D976336543E3FD7091C8FE4800DF820ED55E7E94813ED00555B573FECA3D84AF6131A651D66CFF4284FB13B635EDD0EE40176D8BF04B7FD1C7BACF9AC7327DFAA8AA72D10DB3B8E70B2DDD811CB4196525EA386ACC33C0D9D4575916469C4E4F53E8E1C912CC618CB22DDE7C3568E90022E6BBA770202E4522A2DD623D180E215BD1D1507FE3DC90CA310D27B3EFCCD8F83DE3052CAD1E48938C68D095AAC91B5F37E28BB49EC7ED597DF0314EBFA0D5D06D8CE702DA3EAE890701D45E274C845DF060101DF070101DF0503311224", "9F2201959F0605A000000003DF040103DF028190BE9E1FA5E9A803852999C4AB432DB28600DCD9DAB76DFAAA47355A0FE37B1508AC6BF38860D3C6C2E5B12A3CAAF2A7005A7241EBAA7771112C74CF9A0634652FBCA0E5980C54A64761EA101A114E0F0B5572ADD57D010B7C9C887E104CA4EE1272DA66D997B9A90B5A6D624AB6C57E73C8F919000EB5F684898EF8C3DBEFB330C62660BED88EA78E909AFF05F6DA627BDF0314EE1511CEC71020A9B90443B37B1D5F6E703030F6DF060101DF070101DF0503311217", "9F2201929F0605A000000003DF040103DF0281B0996AF56F569187D09293C14810450ED8EE3357397B18A2458EFAA92DA3B6DF6514EC060195318FD43BE9B8F0CC669E3F844057CBDDF8BDA191BB64473BC8DC9A730DB8F6B4EDE3924186FFD9B8C7735789C23A36BA0B8AF65372EB57EA5D89E7D14E9C7B6B557460F10885DA16AC923F15AF3758F0F03EBD3C5C2C949CBA306DB44E6A2C076C5F67E281D7EF56785DC4D75945E491F01918800A9E2DC66F60080566CE0DAF8D17EAD46AD8E30A247C9FDF0314429C954A3859CEF91295F663C963E582ED6EB253DF060101DF070101DF0503311217", "9F2201949F0605A000000003DF040103DF0281F8ACD2B12302EE644F3F835ABD1FC7A6F62CCE48FFEC622AA8EF062BEF6FB8BA8BC68BBF6AB5870EED579BC3973E121303D34841A796D6DCBC41DBF9E52C4609795C0CCF7EE86FA1D5CB041071ED2C51D2202F63F1156C58A92D38BC60BDF424E1776E2BC9648078A03B36FB554375FC53D57C73F5160EA59F3AFC5398EC7B67758D65C9BFF7828B6B82D4BE124A416AB7301914311EA462C19F771F31B3B57336000DFF732D3B83DE07052D730354D297BEC72871DCCF0E193F171ABA27EE464C6A97690943D59BDABB2A27EB71CEEBDAFA1176046478FD62FEC452D5CA393296530AA3F41927ADFE434A2DF2AE3054F8840657A26E0FC617DF0314C4A3C43CCF87327D136B804160E47D43B60E6E0FDF060101DF070101DF0503311217", "9F2201089F0605A000000003DF040103DF0281B0D9FD6ED75D51D0E30664BD157023EAA1FFA871E4DA65672B863D255E81E137A51DE4F72BCC9E44ACE12127F87E263D3AF9DD9CF35CA4A7B01E907000BA85D24954C2FCA3074825DDD4C0C8F186CB020F683E02F2DEAD3969133F06F7845166ACEB57CA0FC2603445469811D293BFEFBAFAB57631B3DD91E796BF850A25012F1AE38F05AA5C4D6D03B1DC2E568612785938BBC9B3CD3A910C1DA55A5A9218ACE0F7A21287752682F15832A678D6E1ED0BDF031420D213126955DE205ADC2FD2822BD22DE21CF9A8DF060101DF070101DF0503311217", "9F2201099F0605A000000003DF040103DF0281F89D912248DE0A4E39C1A7DDE3F6D2588992C1A4095AFBD1824D1BA74847F2BC4926D2EFD904B4B54954CD189A54C5D1179654F8F9B0D2AB5F0357EB642FEDA95D3912C6576945FAB897E7062CAA44A4AA06B8FE6E3DBA18AF6AE3738E30429EE9BE03427C9D64F695FA8CAB4BFE376853EA34AD1D76BFCAD15908C077FFE6DC5521ECEF5D278A96E26F57359FFAEDA19434B937F1AD999DC5C41EB11935B44C18100E857F431A4A5A6BB65114F174C2D7B59FDF237D6BB1DD0916E644D709DED56481477C75D95CDD68254615F7740EC07F330AC5D67BCD75BF23D28A140826C026DBDE971A37CD3EF9B8DF644AC385010501EFC6509D7A41DF03141FF80A40173F52D7D27E0F26A146A1C8CCB29046DF060101DF070101DF0503311217", "9F2201079F0605A000000003DF040103DF028190A89F25A56FA6DA258C8CA8B40427D927B4A1EB4D7EA326BBB12F97DED70AE5E4480FC9C5E8A972177110A1CC318D06D2F8F5C4844AC5FA79A4DC470BB11ED635699C17081B90F1B984F12E92C1C529276D8AF8EC7F28492097D8CD5BECEA16FE4088F6CFAB4A1B42328A1B996F9278B0B7E3311CA5EF856C2F888474B83612A82E4E00D0CD4069A6783140433D50725FDF0314B4BC56CC4E88324932CBC643D6898F6FE593B172DF060101DF070101DF0503311217", "9F2201059F0605A000000003DF040103DF028160D0135CE8A4436C7F9D5CC66547E30EA402F98105B71722E24BC08DCC80AB7E71EC23B8CE6A1DC6AC2A8CF55543D74A8AE7B388F9B174B7F0D756C22CBB5974F9016A56B601CCA64C71F04B78E86C501B193A5556D5389ECE4DEA258AB97F52A3DF031486DF041E7995023552A79E2623E49180C0CD957ADF060101DF070101DF0503311217", "9F2201119F0605A000000065DF040103DF0281B0A2583AA40746E3A63C22478F576D1EFC5FB046135A6FC739E82B55035F71B09BEB566EDB9968DD649B94B6DEDC033899884E908C27BE1CD291E5436F762553297763DAA3B890D778C0F01E3344CECDFB3BA70D7E055B8C760D0179A403D6B55F2B3B083912B183ADB7927441BED3395A199EEFE0DEBD1F5FC3264033DA856F4A8B93916885BD42F9C1F456AAB8CFA83AC574833EB5E87BB9D4C006A4B5346BD9E17E139AB6552D9C58BC041195336485DF0314D9FD62C9DD4E6DE7741E9A17FB1FF2C5DB948BCBDF060101DF070101DF0503311217", "9F22010F9F0605A000000065DF040103DF0281909EFBADDE4071D4EF98C969EB32AF854864602E515D6501FDE576B310964A4F7C2CE842ABEFAFC5DC9E26A619BCF2614FE07375B9249BEFA09CFEE70232E75FFD647571280C76FFCA87511AD255B98A6B577591AF01D003BD6BF7E1FCE4DFD20D0D0297ED5ECA25DE261F37EFE9E175FB5F12D2503D8CFB060A63138511FE0E125CF3A643AFD7D66DCF9682BD246DDEA1DF03142A1B82DE00F5F0C401760ADF528228D3EDE0F403DF060101DF070101DF0503311217", "9F2201089F0605A000000065DF040103DF028180B74670DAD1DC8983652000E5A7F2F8B35DFD083EE593E5BA895C95729F2BADE9C8ABF3DD9CE240C451C6CEFFC768D83CBAC76ABB8FEA58F013C647007CFF7617BAC2AE3981816F25CC7E5238EF34C4F02D0B01C24F80C2C65E7E7743A4FA8E23206A23ECE290C26EA56DB085C5C5EAE26292451FC8292F9957BE8FF20FAD53E5DF0314DD36D5896228C8C4900742F107E2F91FE50BC7EEDF060101DF070101DF0503311217", "9F2201099F0605A000000065DF040103DF028180B72A8FEF5B27F2B550398FDCC256F714BAD497FF56094B7408328CB626AA6F0E6A9DF8388EB9887BC930170BCC1213E90FC070D52C8DCD0FF9E10FAD36801FE93FC998A721705091F18BC7C98241CADC15A2B9DA7FB963142C0AB640D5D0135E77EBAE95AF1B4FEFADCF9C012366BDDA0455C1564A68810D7127676D493890BDDF03144410C6D51C2F83ADFD92528FA6E38A32DF048D0ADF060101DF070101DF0503311217", "9F2201149F0605A000000065DF040103DF0281F8AEED55B9EE00E1ECEB045F61D2DA9A66AB637B43FB5CDBDB22A2FBB25BE061E937E38244EE5132F530144A3F268907D8FD648863F5A96FED7E42089E93457ADC0E1BC89C58A0DB72675FBC47FEE9FF33C16ADE6D341936B06B6A6F5EF6F66A4EDD981DF75DA8399C3053F430ECA342437C23AF423A211AC9F58EAF09B0F837DE9D86C7109DB1646561AA5AF0289AF5514AC64BC2D9D36A179BB8A7971E2BFA03A9E4B847FD3D63524D43A0E8003547B94A8A75E519DF3177D0A60BC0B4BAB1EA59A2CBB4D2D62354E926E9C7D3BE4181E81BA60F8285A896D17DA8C3242481B6C405769A39D547C74ED9FF95A70A796046B5EFF36682DC29DF0314C0D15F6CD957E491DB56DCDD1CA87A03EBE06B7BDF060101DF070101DF0503311217", "9F2201109F0605A000000065DF040103DF02819099B63464EE0B4957E4FD23BF923D12B61469B8FFF8814346B2ED6A780F8988EA9CF0433BC1E655F05EFA66D0C98098F25B659D7A25B8478A36E489760D071F54CDF7416948ED733D816349DA2AADDA227EE45936203CBF628CD033AABA5E5A6E4AE37FBACB4611B4113ED427529C636F6C3304F8ABDD6D9AD660516AE87F7F2DDF1D2FA44C164727E56BBC9BA23C0285DF0314C75E5210CBE6E8F0594A0F1911B07418CADB5BABDF060101DF070101DF0503311217", "9F2201139F0605A000000065DF040103DF0281F8A3270868367E6E29349FC2743EE545AC53BD3029782488997650108524FD051E3B6EACA6A9A6C1441D28889A5F46413C8F62F3645AAEB30A1521EEF41FD4F3445BFA1AB29F9AC1A74D9A16B93293296CB09162B149BAC22F88AD8F322D684D6B49A12413FC1B6AC70EDEDB18EC1585519A89B50B3D03E14063C2CA58B7C2BA7FB22799A33BCDE6AFCBEB4A7D64911D08D18C47F9BD14A9FAD8805A15DE5A38945A97919B7AB88EFA11A88C0CD92C6EE7DC352AB0746ABF13585913C8A4E04464B77909C6BD94341A8976C4769EA6C0D30A60F4EE8FA19E767B170DF4FA80312DBA61DB645D5D1560873E2674E1F620083F30180BD96CA589DF031454CFAE617150DFA09D3F901C9123524523EBEDF3DF060101DF070101DF0503311217", "9F2201129F0605A000000065DF040103DF0281B0ADF05CD4C5B490B087C3467B0F3043750438848461288BFEFD6198DD576DC3AD7A7CFA07DBA128C247A8EAB30DC3A30B02FCD7F1C8167965463626FEFF8AB1AA61A4B9AEF09EE12B009842A1ABA01ADB4A2B170668781EC92B60F605FD12B2B2A6F1FE734BE510F60DC5D189E401451B62B4E06851EC20EBFF4522AACC2E9CDC89BC5D8CDE5D633CFD77220FF6BBD4A9B441473CC3C6FEFC8D13E57C3DE97E1269FA19F655215B23563ED1D1860D8681DF0314874B379B7F607DC1CAF87A19E400B6A9E25163E8DF060101DF070101DF0503311217", "9F2201DA9F0605A000000065DF040103DF028180DC7449EC24944EA4C09EF37656F5390594DE4F1686AFC4B1C21C893F5F3AEFC5A8109E06A52389C0414E7DFBC44293B04D5F4E85528FA85F1A9706BAAAA034E8B44111C043B1CC95309C6946225971D4B158909F4438726812777FAC4D06879A7AA41089F0DD2C27B3EAA23A8D02E2A9A9B8EDAD0CA32AE91B383740CF50E5E5DF03145C037E1815E38B79D4D5C15FF90CE4E3F2070863DF060101DF070101DF0503311217", "9F2201EA9F0605A000000065DF040103DF028190A9796C29E39C2D44FDDAE7EE1341DA5461DCE4DCB31438D583B2BC0845B64AA37D055B190D7F5152E5057A5FB9CD27634EAC4003A2803C804E22D492738A164369A17F265F8016C622DA0631494F03B2DA4D5E7D13F7082F9BD8A7393B119AC70A39E861B645B1FBF29BA9CC1B8A5A97B5A8444DB0FCA5BC511E68E7B01D7ADCB8E46D9648A995E256F7715251B431B3DF0314A19CAF700603E37BC7C2E5C420A11A56D1A8BAC3DF060101DF070101DF0503311217", "9F2201EB9F0605A000000065DF040103DF0281B0A9A696A7E3C6AC1421E4DE8936EFB6D66CE960EAFA6EA5E03D066F296284A61DA2890A6D0D869BA8C9A9E01E4EFF3BBE331ECE2CE1429C066DD885781E2ADABC86CFFD76854FB9F1BCDAEDCE6B54727D9C2C01C9642E9CD1BFC4CF24A6A2E49C1541B02EBC0534744481CC8922073A21F8E0D72BC8998BD529C698567A87F16450DFB969961A4186AB4CC648A4D41B149E3DD21393A993833D5EEEEBFCBCE0C777B52447ED3B816E3A2984930C07C021DF0314A19CAF700603E37BC7C2E5C420A11A56D1A8BAC3DF060101DF070101DF0503311217", "9F22010A9F0605A000000333DF040103DF028180B2AB1B6E9AC55A75ADFD5BBC34490E53C4C3381F34E60E7FAC21CC2B26DD34462B64A6FAE2495ED1DD383B8138BEA100FF9B7A111817E7B9869A9742B19E5C9DAC56F8B8827F11B05A08ECCF9E8D5E85B0F7CFA644EFF3E9B796688F38E006DEB21E101C01028903A06023AC5AAB8635F8E307A53AC742BDCE6A283F585F48EFDF0314C88BE6B2417C4F941C9371EA35A377158767E4E3DF060101DF070101DF0503311217", "9F2201089F0605A000000333DF040103DF028190B61645EDFD5498FB246444037A0FA18C0F101EBD8EFA54573CE6E6A7FBF63ED21D66340852B0211CF5EEF6A1CD989F66AF21A8EB19DBD8DBC3706D135363A0D683D046304F5A836BC1BC632821AFE7A2F75DA3C50AC74C545A754562204137169663CFCC0B06E67E2109EBA41BC67FF20CC8AC80D7B6EE1A95465B3B2657533EA56D92D539E5064360EA4850FED2D1BFDF0314EE23B616C95C02652AD18860E48787C079E8E85ADF060101DF070101DF0503311217", "9F2201099F0605A000000333DF040103DF0281B0EB374DFC5A96B71D2863875EDA2EAFB96B1B439D3ECE0B1826A2672EEEFA7990286776F8BD989A15141A75C384DFC14FEF9243AAB32707659BE9E4797A247C2F0B6D99372F384AF62FE23BC54BCDC57A9ACD1D5585C303F201EF4E8B806AFB809DB1A3DB1CD112AC884F164A67B99C7D6E5A8A6DF1D3CAE6D7ED3D5BE725B2DE4ADE23FA679BF4EB15A93D8A6E29C7FFA1A70DE2E54F593D908A3BF9EBBD760BBFDC8DB8B54497E6C5BE0E4A4DAC29E5DF0314A075306EAB0045BAF72CDD33B3B678779DE1F527DF060101DF070101DF0503311299", "9F22010B9F0605A000000333DF040103DF0281F8CF9FDF46B356378E9AF311B0F981B21A1F22F250FB11F55C958709E3C7241918293483289EAE688A094C02C344E2999F315A72841F489E24B1BA0056CFAB3B479D0E826452375DCDBB67E97EC2AA66F4601D774FEAEF775ACCC621BFEB65FB0053FC5F392AA5E1D4C41A4DE9FFDFDF1327C4BB874F1F63A599EE3902FE95E729FD78D4234DC7E6CF1ABABAA3F6DB29B7F05D1D901D2E76A606A8CBFFFFECBD918FA2D278BDB43B0434F5D45134BE1C2781D157D501FF43E5F1C470967CD57CE53B64D82974C8275937C5D8502A1252A8A5D6088A259B694F98648D9AF2CB0EFD9D943C69F896D49FA39702162ACB5AF29B90BADE005BC157DF0314BD331F9996A490B33C13441066A09AD3FEB5F66CDF060101DF070101DF0503311299", "9F2201099F0605A000000677DF040101DF0281B0B9FBF017A08F6F3AA6F43DD4AB1D45E1CFAF8A3507D99BC4965675BC962CBC99484DE2C40DFD4AEA34825C4094C744162DCC1F26C584BED09E3720608D4693C18ACEEEF3433413AC72D392C6A7FD6F3AFA724171C316390C91DEEC27C203BF1AD6162F1086C67668E72CAEE448273F9AB7621265D3341BD42927541FF8862D5F629E8421B8416BFC07CC6F710F2CFFDBF93DA29A086B443CBB4427D5EC4D619976A11FE99ED56467A3F0FC5192EB907FDF0314CF2DF385D28CB1D38FCCD595A93EDA39C88B4901DF060101DF070101DF0503311299", "9F2201039F0605A000000677DF040101DF0281B08CFC37515D0E9B594360FB810EC8F8E32F7F932A5CC79429B3861B1DF4D0B3D68EEE1CE03123E1E40A70B72B00B866DABBD720AE0BEB4BF8E7DC1233D1E1B72B8C3A7E683F882C692C3DF1C53FE1F05769216637EF6B23F6CA654FE0F704CBD22496619E66558A5C1F9EA048B0E35A4ED6A62A4E8B7EA5AD67E5F0FB272A133E4CC8BE924EA33761060282276CAA992392646BDF29A90307A72D0AC8338ACCCA0CFB43D63F604C7767B7FDA3692A4493DF0314B402CF25762276CBB9DC20E40B9A7DEE2CB48F51DF060101DF070101DF0503311299", "9F2201979F0605A000000003DF040103DF028160AF0754EAED977043AB6F41D6312AB1E22A6809175BEB28E70D5F99B2DF18CAE73519341BBBD327D0B8BE9D4D0E15F07D36EA3E3A05C892F5B19A3E9D3413B0D97E7AD10A5F5DE8E38860C0AD004B1E06F4040C295ACB457A788551B6127C0B29DF03148001CA76C1203955E2C62841CD6F201087E564BFDF060101DF070101DF0503311217", "9F2201029F0605A000000065DF0403010001DF028180BB7F51983FD8707FD6227C23DEF5D5377A5A737CEF3C5252E578EFE136DF87B50473F9341F1640C8D258034E14C16993FCE6C6B8C3CEEB65FC8FBCD8EB77B3B05AC7C4D09E0FA1BA2EFE87D3184DB6718AE41A7CAD89B8DCE0FE80CEB523D5D647F9DB58A31D2E71AC677E67FA6E75820736C9893761EE4ACD11F31DBDC349EFDF0314B973E9F377B419C36AC9696ED95FFB25C8020687DF060101DF070101DF0503311217", "9F2201029F0605A000000025DF040103DF028170AF4B8D230FDFCB1538E975795A1DB40C396A5359FAA31AE095CB522A5C82E7FFFB252860EC2833EC3D4A665F133DD934EE1148D81E2B7E03F92995DDF7EB7C90A75AB98E69C92EC91A533B21E1C4918B43AFED5780DE13A32BBD37EBC384FA3DD1A453E327C56024DACAEA74AA052C4DDF031433F5B0344943048237EC89B275A95569718AEE20DF060101DF070101DF050420221231", "9F2201039F0605A000000025DF040103DF028180B0C2C6E2A6386933CD17C239496BF48C57E389164F2A96BFF133439AE8A77B20498BD4DC6959AB0C2D05D0723AF3668901937B674E5A2FA92DDD5E78EA9D75D79620173CC269B35F463B3D4AAFF2794F92E6C7A3FB95325D8AB95960C3066BE548087BCB6CE12688144A8B4A66228AE4659C634C99E36011584C095082A3A3E3DF03148708A3E3BBC1BB0BE73EBD8D19D4E5D20166BF6CDF060101DF070101DF050420221231", "9F2201049F0605A000000025DF040103DF028160D0F543F03F2517133EF2BA4A1104486758630DCFE3A883C77B4E4844E39A9BD6360D23E6644E1E071F196DDF2E4A68B4A3D93D14268D7240F6A14F0D714C17827D279D192E88931AF7300727AE9DA80A3F0E366AEBA61778171737989E1EE309DF0314FDD7139EC7E0C33167FD61AD3CADBD68D66E91C5DF060101DF070101DF050420221231", "9F22010E9F0605A000000025DF040103DF028190AA94A8C6DAD24F9BA56A27C09B01020819568B81A026BE9FD0A3416CA9A71166ED5084ED91CED47DD457DB7E6CBCD53E560BC5DF48ABC380993B6D549F5196CFA77DFB20A0296188E969A2772E8C4141665F8BB2516BA2C7B5FC91F8DA04E8D512EB0F6411516FB86FC021CE7E969DA94D33937909A53A57F907C40C22009DA7532CB3BE509AE173B39AD6A01BA5BB85DF0314A7266ABAE64B42A3668851191D49856E17F8FBCDDF060101DF070101DF050420221231", "9F22010F9F0605A000000025DF040103DF0281B0C8D5AC27A5E1FB89978C7C6479AF993AB3800EB243996FBB2AE26B67B23AC482C4B746005A51AFA7D2D83E894F591A2357B30F85B85627FF15DA12290F70F05766552BA11AD34B7109FA49DE29DCB0109670875A17EA95549E92347B948AA1F045756DE56B707E3863E59A6CBE99C1272EF65FB66CBB4CFF070F36029DD76218B21242645B51CA752AF37E70BE1A84FF31079DC0048E928883EC4FADD497A719385C2BBBEBC5A66AA5E5655D18034EC5DF0314A73472B3AB557493A9BC2179CC8014053B12BAB4DF060101DF070101DF050420221231", "9F2201109F0605A000000025DF040103DF0281F8CF98DFEDB3D3727965EE7797723355E0751C81D2D3DF4D18EBAB9FB9D49F38C8C4A826B99DC9DEA3F01043D4BF22AC3550E2962A59639B1332156422F788B9C16D40135EFD1BA94147750575E636B6EBC618734C91C1D1BF3EDC2A46A43901668E0FFC136774080E888044F6A1E65DC9AAA8928DACBEB0DB55EA3514686C6A732CEF55EE27CF877F110652694A0E3484C855D882AE191674E25C296205BBB599455176FDD7BBC549F27BA5FE35336F7E29E68D783973199436633C67EE5A680F05160ED12D1665EC83D1997F10FD05BBDBF9433E8F797AEE3E9F02A34228ACE927ABE62B8B9281AD08D3DF5C7379685045D7BA5FCDE58637DF0314C729CF2FD262394ABC4CC173506502446AA9B9FDDF060101DF070101DF050420221231", "9F2201629F0605A000000025DF040103DF028160BA29DE83090D8D5F4DFFCEB98918995A768F41D0183E1ACA3EF8D5ED9062853E4080E0D289A5CEDD4DD96B1FEA2C53428436CE15A2A1BFE69D46197D3F5A79BCF8F4858BFFA04EDB07FC5BE8560D9CE38F5C3CA3C742EDFDBAE3B5E6DDA45557DF0314CCC7303FF295A9F35BA61BD31E27EABD59658265DF060101DF070101DF050420221231", "9F2201649F0605A000000025DF040103DF028180B0DD551047DAFCD10D9A5E33CF47A9333E3B24EC57E8F066A72DED60E881A8AD42777C67ADDF0708042AB943601EE60248540B67E0637018EEB3911AE9C873DAD66CB40BC8F4DC77EB2595252B61C21518F79B706AAC29E7D3FD4D259DB72B6E6D446DD60386DB40F5FDB076D80374C993B4BB2D1DB977C3870897F9DFA454F5DF0314792B121D86D0F3A99582DB06974481F3B2E18454DF060101DF070101DF050420221231", "9F2201659F0605A000000025DF040103DF028190E53EB41F839DDFB474F272CD0CBE373D5468EB3F50F39C95BDF4D39FA82B98DABC9476B6EA350C0DCE1CD92075D8C44D1E57283190F96B3537D9E632C461815EBD2BAF36891DF6BFB1D30FA0B752C43DCA0257D35DFF4CCFC98F84198D5152EC61D7B5F74BD09383BD0E2AA42298FFB02F0D79ADB70D72243EE537F75536A8A8DF962582E9E6812F3A0BE02A4365400DDF0314894C5D08D4EA28BB79DC46CEAD998B877322F416DF060101DF070101DF050420221231", "9F2201669F0605A000000025DF040103DF028180BD1478877B9333612D257D9E3C9C23503E28336B723C71F47C25836670395360F53C106FD74DEEEA291259C001AFBE7B4A83654F6E2D9E8148E2CB1D9223AC5903DA18B433F8E3529227505DE84748F241F7BFCD2146E5E9A8C5D2A06D19097087A069F9AE3D610C7C8E1214481A4F27025A1A2EDB8A9CDAFA445690511DB805DF0314F367CB70F9C9B67B580F533819E302BAC0330090DF060101DF070101DF050420221231", "9F2201679F0605A000000025DF040103DF0281B0C687ADCCF3D57D3360B174E471EDA693AA555DFDC6C8CD394C74BA25CCDF8EABFD1F1CEADFBE2280C9E81F7A058998DC22B7F22576FE84713D0BDD3D34CFCD12FCD0D26901BA74103D075C664DABCCAF57BF789494051C5EC303A2E1D784306D3DB3EB665CD360A558F40B7C05C919B2F0282FE1ED9BF6261AA814648FBC263B14214491DE426D242D65CD1FFF0FBE4D4DAFF5CFACB2ADC7131C9B147EE791956551076270696B75FD97373F1FD7804FDF031452A2907300C8445BF54B970C894691FEADF2D28EDF060101DF070101DF050420221231", "9F2201689F0605A000000025DF040103DF0281F8F4D198F2F0CF140E4D2D81B765EB4E24CED4C0834822769854D0E97E8066CBE465029B3F410E350F6296381A253BE71A4BBABBD516625DAE67D073D00113AAB9EA4DCECA29F3BB7A5D46C0D8B983E2482C2AD759735A5AB9AAAEFB31D3E718B8CA66C019ECA0A8BE312E243EB47A62300620BD51CF169A9194C17A42E51B34D83775A98E80B2D66F4F98084A448FE0507EA27C905AEE72B62A8A29438B6A4480FFF72F93280432A55FDD648AD93D82B9ECF01275C0914BAD8EB3AAF46B129F8749FEA425A2DCDD7E813A08FC0CA7841EDD49985CD8BC6D5D56F17AB9C67CEC50BA422440563ECCE21699E435C8682B6266393672C693D8B7DF0314415E5FE9EC966C835FBB3E6F766A9B1A4B8674C3DF060101DF070101DF050420221231", "9F2201969F0605A000000025DF040103DF028180BC9AA294B1FDD263176E3243D8F448BBFFCB6ABD02C31811289F5085A9262B8B1B7C6477EB58055D9EF32A83D1B72D4A1471ECA30CE76585C3FD05372B686F92B795B1640959201523230149118D52D2425BD11C863D9B2A7C4AD0A2BFDBCA67B2713B290F493CD5521E5DDF05EF1040FC238D0A851C8E3E3B2B1F0D5D9D4AEDDF0314E7433E5CFC6001151D8ECD252EBC6E61F7AB2217DF060101DF070101DF050420221231", "9F2201C99F0605A000000025DF040103DF0281B0B362DB5733C15B8797B8ECEE55CB1A371F760E0BEDD3715BB270424FD4EA26062C38C3F4AAA3732A83D36EA8E9602F6683EECC6BAFF63DD2D49014BDE4D6D603CD744206B05B4BAD0C64C63AB3976B5C8CAAF8539549F5921C0B700D5B0F83C4E7E946068BAAAB5463544DB18C63801118F2182EFCC8A1E85E53C2A7AE839A5C6A3CABE73762B70D170AB64AFC6CA482944902611FB0061E09A67ACB77E493D998A0CCF93D81A4F6C0DC6B7DF22E62DBDF03148E8DFF443D78CD91DE88821D70C98F0638E51E49DF060101DF070101DF050420251231", "9F2201CA9F0605A000000025DF040103DF0281F8C23ECBD7119F479C2EE546C123A585D697A7D10B55C2D28BEF0D299C01DC65420A03FE5227ECDECB8025FBC86EEBC1935298C1753AB849936749719591758C315FA150400789BB14FADD6EAE2AD617DA38163199D1BAD5D3F8F6A7A20AEF420ADFE2404D30B219359C6A4952565CCCA6F11EC5BE564B49B0EA5BF5B3DC8C5C6401208D0029C3957A8C5922CBDE39D3A564C6DEBB6BD2AEF91FC27BB3D3892BEB9646DCE2E1EF8581EFFA712158AAEC541C0BBB4B3E279D7DA54E45A0ACC3570E712C9F7CDF985CFAFD382AE13A3B214A9E8E1E71AB1EA707895112ABC3A97D0FCB0AE2EE5C85492B6CFD54885CDD6337E895CC70FB3255E3DF03146BDA32B1AA171444C7E8F88075A74FBFE845765FDF060101DF070101DF050420261231", "9F2201D19F0605A000000658DF0403010001DF0281F0A3547415A7D237C09FC8AFF989FDA49E5B3275545026361C1A8DE477467F963D8F6F58A2F16E0885E4759CA58F72A5B5446CE3893155EFD978B2F0D8D1A7294AC7870D65B5CC78286F96237EFCBA02C6844A84DB79A01D225FF3BEAB3761AFC52AEDD57764483C980076D10E4C3485011DD93A970C57FC72A1CCA47C7D1B57E5D7798A180BF08455A4D602CFC3C881034B52D6DF2C3B1A8FEE7E6539EA35F6B5C123A822AA73FB6BDFD894AEB8381A62413EFB030F85DC45D71B66A322F1532A91C9AD8E4820AC18C544A623FC3E401D42498C1C9B88E5A6B7DA2D9E0BF7CB3F921242B5352302B95EE1344D79ECE49DDF031405567628480B757FE633999C9AE1D9F420F84EE3DF060101DF070101DF0503311299", "9F2201D29F0605A000000658DF0403010001DF0281C887df1b2e39252ea14aa937d0ef2b35dc5c15e5a8deec1510ba0a2759500e86685fb765b102f440bec872503ed7919af72deba2f50b7cc6a4c4bc0548af201c7274faf248239d67fc72a123690300c9a064a5ab97b7f26cfa378a7a0ba3d551b74ea953496858a81ef6a44aa659c253551dd45174bb2a248fdbb66d614ba1c018f952a45c73e1149feadc5b3e2561bef8d4ee0150807ea1dde9b3ddecd5428e3e79721addc660dd28b9cc3bf06066176405d822d659ac7bb9354aa3ba33ddead47dd34b4264e34581DF031492c88f72e3dfc1678ea40d5da5519be1aec001b7DF060101DF070101DF0503311299", "9F2201D39F0605A000000658DF0403010001DF0281909af692ffa01a2cc61b97820aafcbf0844b859726de13ad4caa8d3389a13728b588e1dd33373c8624d9d4be468fa72f5eeebb5fc904a386acef2a4d8a6f8aefd69164cd56183c381bd7fcc2a16c6b12305729ffea766699f54ca01d97761170c7a77b027028f12fb79fcb5e034983743a5ce9c2fe0753021bc9c8ca7555320d0cf4e1182f96bc3a1500c335199e701459DF031424568c62d69fbf64fdd00a16a3b9f132a124ee92DF060101DF070101DF0503311299",};



    public void My01setEncryptDataKey(Bundle dataKey, Bundle mode) {

        try {
            logUtils.addCaseLog("setEncryptDataKey execute");
            logUtils.addCaseLog("dataKey = " + dataKey.toString());
            logUtils.addCaseLog("mode = " + mode.toString());
            boolean result = iSde.setEncryptDataKey(dataKey,mode);
            logUtils.addCaseLog("setEncryptDataKey() execute result = "+result);
        } catch (RemoteException e) {
            logUtils.addCaseLog("setEncryptDataKey exception");
            e.printStackTrace();
        }

    }

    public void My02getEncryptedMsgData(byte[] data, Bundle extend) {
        try {
            logUtils.addCaseLog("getEncryptedMsgData execute");
            Bundle bundle = iSde.getEncryptedMsgData(data,extend);
            byte[] encryptedData = bundle.getByteArray("encryptedData");
            byte[] ksn = bundle.getByteArray("ksn");
            logUtils.addCaseLog("encryptedData = "+ StringUtil.byte2HexStr(encryptedData) +";");
            logUtils.addCaseLog("ksn = "+ StringUtil.byte2HexStr(ksn) +";");
        } catch (RemoteException e) {
            logUtils.addCaseLog("getEncryptedMsgData exception");
            e.printStackTrace();
        }
    }

    public void My03cardDetection(Bundle cardOption, int timeout, CardDetectionListener listener) {
        try {
            logUtils.addCaseLog("cardDetection execute");
            iSde.cardDetection(cardOption,timeout,listener);
        } catch (RemoteException e) {
            logUtils.addCaseLog("cardDetection exception");
            e.printStackTrace();
        }
    }

    public void My04setObfuscatedPanNum(int first, int last) {
        try {
            logUtils.addCaseLog("setObfuscatedPanNum execute");
            boolean result = iSde.setObfuscatedPanNum(first,last);
            logUtils.addCaseLog("setObfuscated result = "+result);
        } catch (RemoteException e) {
            logUtils.addCaseLog("setObfuscatedPanNum exception");
            e.printStackTrace();
        }
    }

    public void My05getEncryptedData(int cardType, String tag,Bundle extend) {
        logUtils.addCaseLog("getEncryptedData execute");
        try {
            Log.d(TAG,"cardType = "+cardType+";");
            Log.d(TAG,"tag = "+tag+";");
            logUtils.addCaseLog("cardType = "+cardType);
            logUtils.addCaseLog("tag = "+tag);

            Bundle emvSensitiveCardData = iSde.getEncryptedData(cardType, tag,extend);
            byte[] encryptedData = emvSensitiveCardData.getByteArray("encryptedData");
            byte[] ksn = emvSensitiveCardData.getByteArray("ksn");
            byte[] initVec = emvSensitiveCardData.getByteArray("initVec");
            int result = emvSensitiveCardData.getInt("result");

            if (emvSensitiveCardData.getInt("result") == 0) {
                logUtils.addCaseLog("get success");
                logUtils.addCaseLog("encryptedData = "+ StringUtil.byte2HexStr(encryptedData));
                logUtils.addCaseLog("ksn = "+ StringUtil.byte2HexStr(ksn));
                logUtils.addCaseLog("initVec = "+ StringUtil.byte2HexStr(initVec));
                logUtils.addCaseLog("result = "+ result);

                Log.d(TAG,"encryptedData = "+ StringUtil.byte2HexStr(encryptedData));
                Log.d(TAG,"ksn = "+ StringUtil.byte2HexStr(ksn));
                Log.d(TAG,"initVec = "+ StringUtil.byte2HexStr(initVec));
                Log.d(TAG,"result = "+ result);


            }else {
                Log.d(TAG,"result = "+result);
                logUtils.addCaseLog("result = "+result);
            }

        } catch (RemoteException e) {
            e.printStackTrace();
        }
    }

    public void My06initSecurityKeyBoardView(Bundle param) {

    }

    public void My07startSecurityKeyBoardEntry() {
//        try {
//            logUtils.addCaseLog("startSecurityKeyBoardEntry execute");
//            Bundle bundle = new Bundle();
//            bundle.putBoolean("inputType", true);
//            iSde.startSecurityKeyBoardEntry(bundle);
//        } catch (RemoteException e) {
//            logUtils.addCaseLog("startSecurityKeyBoardEntry exception");
//            e.printStackTrace();
//        }
    }

    public void My08initPinInputView(final Bundle importData) {
        logUtils.addCaseLog("My08initPinInputView execute");

        Intent intent = new Intent(context, PinInputActivity.class);
        Bundle bundle = new Bundle();

        int keyId = 99;
        byte[] pinLimit = {4,6};

        //initPinInputView:
        bundle.putInt("keyId",keyId);
        bundle.putByteArray("pinLimit",pinLimit);
        bundle.putInt("timeout",20);
        bundle.putBoolean("isOnline",false);
        bundle.putByteArray("displayKeyValue",new byte[]{0,1,2,3,4,5,6,7,8,9});
        //startPinpad:
        bundle.putInt("keyId2",keyId);
        bundle.putInt("pinBlockType", 0x00);
        bundle.putInt("keySystem",0x02);
        bundle.putInt("mode",0x01);

        bundle.putBundle("importData",importData);

//        bundle.putByte("dispersionType", (byte) 0x02);
//        bundle.putBoolean("notifyPinLenError",false);
//
        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);
    }

    public void My09startPinpad(int keyId, int pinBlockType, int keySystem, int mode, Bundle extraParams, SecurityPinInputListener listener) {
//        try {
//            logUtils.addCaseLog("startPinpad execute");
//            iSde.startPinpad(keyId, pinBlockType, keySystem, mode, extraParams,listener);
//        } catch (RemoteException e) {
//            logUtils.addCaseLog("startPinpad exception");
//            e.printStackTrace();
//        }
    }

    public void My10cleanSensitiveData() {
        try {
            logUtils.addCaseLog("cleanSensitiveData execute");
            iSde.cleanSensitiveData();
        } catch (Exception e) {
            logUtils.addCaseLog("cleanSensitiveData exception");
            e.printStackTrace();
        }
    }

    public void My11getSDEVer() {
        try {
            logUtils.addCaseLog("getSDEVer execute");
            String result = iSde.getSDEVer();
            logUtils.addCaseLog("getSDEVer result = "+result);
        } catch (RemoteException e) {
            logUtils.addCaseLog("getSDEVer exception");
            e.printStackTrace();
        }
    }

    public boolean My12loadDukptKey(int keyId, byte[] ksn, byte[] key, byte[] checkValue, Bundle extend){
        logUtils.addCaseLog("loadDukptKey executed");
        boolean ret = false;
        try {
            long startTime = System.currentTimeMillis();
            ret = iDukpt.loadDukptKey(keyId, ksn, key, checkValue, extend);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("loadDukptKey executeTime : " + (endTime - startTime) + " ms");

            if (ret) {
                logUtils.addCaseLog("download dukpt key[" + keyId + "]success");
            } else {
                logUtils.addCaseLog("download dukpt key[" + keyId + "]failed");
                String errString = iDukpt.getLastError();
                logUtils.addCaseLog("Result：download dukpt key =" + ret);
                if (errString != null) {
                    logUtils.addCaseLog(errString);
                }
            }
        } catch (RemoteException e) {
            e.printStackTrace();
        }
        return ret;
    }


    public void My13StartEMV(final int processType, final Bundle intent, final EMVHandler emvhandler) throws RemoteException {
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        String msg;

        if (intent == null) {
            msg = "The ginseng error";
            Message message = new Message();
            message.getData().putString("message", msg);
            handler.sendMessage(message);
            return;
        }
        if (intent.getBoolean("doNotChangeCardType")) {
            int cardType = intent.getInt("cardType");
            if (cardType == 0) logUtils.addCaseLog("Please insert the card");
            else if (cardType == 1) logUtils.addCaseLog("Please swipe the card");
        } else logUtils.addCaseLog("Please insert/wave/swipe your card");


        iSde.cardDetection(cardOption, 30*1000, new CardDetectionListener.Stub() {
            String msg;

            @Override
            public void onCardSwiped(Bundle track) throws RemoteException {
                msg = "Card detection: credit card swiped successfully";
                Message message = new Message();
                message.getData().putString("message", msg);
                handler.sendMessage(message);

                MStopCheckCard();
            }

            @Override
            public void onCardPowerUp() throws RemoteException {
                msg = "Card test: IC card inserted successfully";
                Message message = new Message();
                message.getData().putString("message", msg);
                handler.sendMessage(message);
//                logUtils.addCaseLog(msg);

                MStopCheckCard();

                if (emvhandler == null) {
                    message = new Message();
                    msg = "Handler is null";
                    message.getData().putString("message", msg);
                    handler.sendMessage(message);
                }
                try {
                    Bundle intent1 = intent;
                    iEmv.startEMV(processType, intent1, emvhandler);
                } catch (RemoteException e) {
                    e.printStackTrace();
                }
            }

            @Override
            public void onCardActivate() throws RemoteException {
                msg = "Card test: the card is successfully connected";
                Message message = new Message();
                message.getData().putString("message", msg);
                handler.sendMessage(message);

                MStopCheckCard();

                if (emvhandler == null) {
                    message = new Message();
                    Log.d(TAG, "Handler is null");
                    msg = "Handler is null";
                    message.getData().putString("message", msg);
                    handler.sendMessage(message);
                }

                try {
                    Bundle intent1 = intent;

                    /*don't change transaction type for test case K17, card type will be changed according the check card result for other test case */
                    if (intent.getBoolean("doNotChangeCardType") == false)
                        intent1.putInt("cardType", 1);

                    iEmv.startEMV(processType, intent1, emvhandler);
                } catch (RemoteException e) {
                    e.printStackTrace();
                }
            }

            @Override
            public void onTimeout() throws RemoteException {
                logUtils.addCaseLog("Card detection: timeout");
                MStopCheckCard();
                Message message1 = new Message();
                message1.getData().putString("message", msg);
                handler.sendMessage(message1);
            }

            @Override
            public void onError(int error, String message) throws RemoteException {
                msg = "Card detection: Error" + error + message;

                MStopCheckCard();
                Message message1 = new Message();
                if (error == 3) message1.getData().putString("message", msg + "Fallback deal");
                else message1.getData().putString("message", msg);
                handler.sendMessage(message1);
            }
        });
    }

    public void My14abortEMV() {
        try {
            long startTime = System.currentTimeMillis();
            iEmv.abortEMV();
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("abortEMV executeTime" + (endTime - startTime));
        } catch (Exception e) {
            logUtils.addCaseLog("abortEMV execute exception");
            e.printStackTrace();
        }
    }

    public void My15importAppSelect(int index) {
        try {
            long startTime = System.currentTimeMillis();
            iEmv.importAppSelection(index);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("importAppSelect executeTime" + (endTime - startTime));
        } catch (RemoteException e) {
            logUtils.addCaseLog("importAppSelect execute exception");
            e.printStackTrace();
        }
    }

    public void My16importPin(int option, byte[] pin) {
        try {
            long startTime = System.currentTimeMillis();
            iEmv.importPin(option, pin);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("importPin executeTime" + (endTime - startTime));
        } catch (RemoteException e) {
            logUtils.addCaseLog("importPin execute exception");
            e.printStackTrace();
        }
    }

    public void My17importCardConfirmResult(boolean pass) {
        try {
            long startTime = System.currentTimeMillis();
            iEmv.importCardConfirmResult(pass);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("importCardConfirmResult executeTime" + (endTime - startTime));
        } catch (RemoteException e) {
            logUtils.addCaseLog("\nimportCardConfirmResult execute exception");
            e.printStackTrace();
        }
    }

    public void My18importOnlineResult(Bundle onlineResult, OnlineResultHandler handler) {
        try {
            long startTime = System.currentTimeMillis();
            iEmv.importOnlineResult(onlineResult, handler);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("importOnlineResult executeTime" + (endTime - startTime));
        } catch (RemoteException e) {
            e.printStackTrace();
        }
    }

    public void My19setEMVData(List<String> tlvList) {
        try {
            long startTime = System.currentTimeMillis();
            iEmv.setEMVData(tlvList);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("setEMVData executeTime" + (endTime - startTime));
            ArrayList<String> taglist = new ArrayList<String>();
            for (String str : tlvList) {
                Map<String, String> map = TlvUtil.tlvToMap(str);
                Set<Map.Entry<String, String>> entrys = map.entrySet();
                for (Map.Entry<String, String> entry : entrys) {
                    Log.d(TAG, entry.getKey() + " display--> " + entry.getValue());
                    taglist.add(entry.getKey());
                }
            }
            logUtils.addCaseLog("getAppTLVList:" + iEmv.getAppTLVList(taglist.toArray(new String[0])));
        } catch (Exception e) {
            logUtils.addCaseLog("setEMVData execute exception");
            e.printStackTrace();
        }
    }

    public void My20getAppTLVList(String[] tagList) {
        try {
            long startTime = System.currentTimeMillis();
            String strs = iEmv.getAppTLVList(tagList);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("getAppTLVList executeTime" + (endTime - startTime));
            if (null != strs) {
                logUtils.addCaseLog("AppTLVList: " + strs);
            } else {
                logUtils.addCaseLog("Return length null");
            }
        } catch (Exception e) {
            logUtils.addCaseLog("getAppTLVList call exception");
            e.printStackTrace();
        }
    }

    public String My21getEMVData(String tagName) {
        try {
            long startTime = System.currentTimeMillis();
            String str = iEmv.getEMVData(tagName);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("getEMVData executeTime" + (endTime - startTime));
            logUtils.addCaseLog("getEMVData execute" + tagName);
            if (null != str && str.length() > 0) {
                logUtils.addCaseLog("getEMVData return " + str);
            } else {
                logUtils.addCaseLog("getEMVData return null");
            }
            return str;
        } catch (Exception e) {
            logUtils.addCaseLog("getEMVData execute exception");
            e.printStackTrace();
            return null;
        }
    }



    public int My23emvProcessingRequestOnline() {
        try {
            long startTime = System.currentTimeMillis();
            int ret = iEmv.emvProcessingRequestOnline();
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("emvProcessingRequestOnline executeTime" + (endTime - startTime));
            logUtils.addCaseLog("emvProcessingRequestOnline execute:" + ret);
            return ret;
        } catch (Exception e) {
            logUtils.addCaseLog("emvProcessingRequestOnline execute exception");
            e.printStackTrace();
            return -1;
        }
    }

    public void My24enableTrack(int trkNum) {
        try {
            long startTime = System.currentTimeMillis();
            iEmv.enableTrack(trkNum);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("enableTrack executeTime" + (endTime - startTime));
            logUtils.addCaseLog("enableTrack execute result:");
        } catch (Exception e) {
            logUtils.addCaseLog("enableTrack execute exception");
            e.printStackTrace();
        }
    }


    public void My25byPassPin(boolean byPass) {
        try {
            logUtils.addCaseLog("Execute My31SetByPass success");
            iEmv.setByPassAllPin(byPass);
            logUtils.addCaseLog("isByPassAllPin :" + iEmv.isByPassAllPin());
        } catch (RemoteException e) {
            logUtils.addCaseLog("Execute My31SetByPass Failed");
            e.printStackTrace();
        }
    }

    public void My26setAcType(SdeMoudle.MyAcTypeCallback myAcTypeCallback) {
        try {
            logUtils.addCaseLog("Execute My32setAcType");
            iEmv.setRequestACTypeCallBack(myAcTypeCallback);
        } catch (RemoteException e) {
            logUtils.addCaseLog("Execute My32setAcType Failed");
            e.printStackTrace();
        }
    }


    public void Q01001(){
//        3DES算法datakey-response加密.loadDUKPT-DES组2明文
        logUtils.addCaseLog("Q01001 execute");
        Bundle dataKey = new Bundle();
        dataKey.putInt("keyMngType",0);
        dataKey.putInt("index",0);

        Bundle mode = new Bundle();
        mode.putInt("encModel",0x02);
        mode.putInt("IVType",0x01);
        mode.putInt("paddingType",0x06);
        mode.putByte("TDESKeyUsageIndicator", (byte) 0x01);

        My01setEncryptDataKey(dataKey,mode);
    }

    public void Q01002(){
        logUtils.addCaseLog("Q01002 execute");

        Bundle dataKey = new Bundle();
        dataKey.putInt("keyMngType",0);
        dataKey.putInt("index",99);

        Bundle mode = new Bundle();
        mode.putInt("encModel",0x02);
        mode.putInt("IVType",0x01);
        mode.putInt("paddingType",0x06);
        mode.putByte("TDESKeyUsageIndicator", (byte) 0x01);
//        mode.putByte("AESKeyUsageIndicator",(byte) 0);
//        mode.putByte("AESDispersionType",(byte) 2);

        My01setEncryptDataKey(dataKey,mode);
    }

    public void Q01003(){
        logUtils.addCaseLog("Q01003 execute");

        Bundle dataKey = new Bundle();
        dataKey.putInt("keyMngType",1);
        dataKey.putInt("index",0);

        Bundle mode = new Bundle();
        mode.putInt("encModel",0x02);
        mode.putInt("IVType",0x01);
        mode.putByteArray("IV",null);
        mode.putInt("paddingType",0x06);
//        mode.putByte("DESKeyUsageIndicator", (byte) 0x01);
        mode.putByte("AESKeyUsageIndicator",(byte) 0);
        mode.putByte("AESDispersionType",(byte) 2);

        My01setEncryptDataKey(dataKey,mode);
    }

    public void Q01004(){
        logUtils.addCaseLog("Q01004 execute");

        Bundle dataKey = new Bundle();
        dataKey.putInt("keyMngType",1);
        dataKey.putInt("index",99);

        Bundle mode = new Bundle();
        mode.putInt("encModel",0x02);
        mode.putInt("IVType",0x01);
        mode.putByteArray("IV",null);
        mode.putInt("paddingType",0x06);
//        mode.putByte("DESKeyUsageIndicator", (byte) 0x01);
        mode.putByte("AESKeyUsageIndicator",(byte) 0);
        mode.putByte("AESDispersionType",(byte) 2);

        My01setEncryptDataKey(dataKey,mode);
    }

    public void Q01005(){
        logUtils.addCaseLog("Q01005 execute");

        Bundle dataKey = new Bundle();
        dataKey.putInt("keyMngType",0);
        dataKey.putInt("index",0);

        Bundle mode = new Bundle();
        mode.putInt("encModel",0x02);
        mode.putInt("IVType",0x01);
        mode.putInt("paddingType",0x06);
        mode.putByte("TDESKeyUsageIndicator", (byte) 0x00);
//        mode.putByte("AESKeyUsageIndicator",(byte) 0);
//        mode.putByte("AESDispersionType",(byte) 2);

        My01setEncryptDataKey(dataKey,mode);
    }

    public void Q01006(){
        logUtils.addCaseLog("Q01006 execute");

        Bundle dataKey = new Bundle();
        dataKey.putInt("keyMngType",1);
        dataKey.putInt("index",3);

        Bundle mode = new Bundle();
        mode.putInt("encModel",0x02);
        mode.putInt("IVType",0x01);
        mode.putByteArray("IV",null);
        mode.putInt("paddingType",0x06);
//        mode.putByte("DESKeyUsageIndicator", (byte) 0x01);
        mode.putByte("AESKeyUsageIndicator",(byte) 0);
        mode.putByte("AESDispersionType",(byte) 3);

        My01setEncryptDataKey(dataKey,mode);
    }

    public void Q01007(){
        logUtils.addCaseLog("Q01007 execute");

        Bundle dataKey = new Bundle();
        dataKey.putInt("keyMngType",1);
        dataKey.putInt("index",6);

        Bundle mode = new Bundle();
        mode.putInt("encModel",0x02);
        mode.putInt("IVType",0x01);
        mode.putByteArray("IV",null);
        mode.putInt("paddingType",0x06);
//        mode.putByte("DESKeyUsageIndicator", (byte) 0x01);
        mode.putByte("AESKeyUsageIndicator",(byte) 0);
        mode.putByte("AESDispersionType",(byte) 4);

        My01setEncryptDataKey(dataKey,mode);
    }

    public void Q01008(){
        logUtils.addCaseLog("Q01008 execute");

        Bundle dataKey = new Bundle();
        dataKey.putInt("keyMngType",1);
        dataKey.putInt("index",13);

        Bundle mode = new Bundle();
        mode.putInt("encModel",0x02);
        mode.putInt("IVType",0x01);
        mode.putByteArray("IV",null);
        mode.putInt("paddingType",0x06);
//        mode.putByte("DESKeyUsageIndicator", (byte) 0x01);
        mode.putByte("AESKeyUsageIndicator",(byte) 0);
        mode.putByte("AESDispersionType",(byte) 0);

        My01setEncryptDataKey(dataKey,mode);
    }

    public void Q01009(){
        logUtils.addCaseLog("Q01009 execute");

        Bundle dataKey = new Bundle();
        dataKey.putInt("keyMngType",1);
        dataKey.putInt("index",14);

        Bundle mode = new Bundle();
        mode.putInt("encModel",0x02);
        mode.putInt("IVType",0x01);
        mode.putByteArray("IV",null);
        mode.putInt("paddingType",0x06);
//        mode.putByte("DESKeyUsageIndicator", (byte) 0x01);
        mode.putByte("AESKeyUsageIndicator",(byte) 0);
        mode.putByte("AESDispersionType",(byte) 1);

        My01setEncryptDataKey(dataKey,mode);
    }

    public void Q02001() {
         Q01001();//3DES算法datakey-response加密
        logUtils.addCaseLog("Q02001 execute");
        byte[] data = BCDDecode.str2Bcd("34343434343434343939393939393939");
        My02getEncryptedMsgData(data, null);//加密数据
    }

    public void Q02002(){
        Q01002();
        logUtils.addCaseLog("Q02002 execute");

        byte[] data = BCDDecode.str2Bcd("34343434343434343939393939393939");
        My02getEncryptedMsgData(data, null);//加密数据
    }

    public void Q02003(){
        Q01003();
        logUtils.addCaseLog("Q02002 execute");

        byte[] data = BCDDecode.str2Bcd("39393939393939393434343434343434");
        My02getEncryptedMsgData(data, null);//加密数据
    }

    public void Q02004(){
        Q01004();
        logUtils.addCaseLog("Q02002 execute");

        byte[] data = BCDDecode.str2Bcd("39393939393939393434343434343136");
        My02getEncryptedMsgData(data, null);//加密数据
    }

    public void Q02005(){
        Q01005();
        logUtils.addCaseLog("Q02002 execute");

        byte[] data = BCDDecode.str2Bcd("34343434343434343939393939393939");
        My02getEncryptedMsgData(data, null);//加密数据
    }

    public void Q02006(){
        Q01006();
        logUtils.addCaseLog("Q02002 execute");
        byte[] data = BCDDecode.str2Bcd("39393939393939393434343430303136");
        My02getEncryptedMsgData(data, null);//加密数据
    }

    public void Q02007(){
        Q01007();
        logUtils.addCaseLog("Q02002 execute");

        byte[] data = BCDDecode.str2Bcd("39393939393939393434343430303136");
        My02getEncryptedMsgData(data, null);//加密数据
    }

    public void Q02008(){
        Q01008();
        logUtils.addCaseLog("Q02002 execute");

        byte[] data = BCDDecode.str2Bcd("39393939393939393434343430303136");
        My02getEncryptedMsgData(data, null);//加密数据
    }

    public void Q02009(){
        Q01009();
        logUtils.addCaseLog("Q02002 execute");

        byte[] data = BCDDecode.str2Bcd("39393939393939393434343430303136");
        My02getEncryptedMsgData(data, null);//加密数据
    }

    public void Q03001() {
        Q01001();
        logUtils.addCaseLog("Q03001 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03002(){
        Q01003();
        logUtils.addCaseLog("Q03002 execute");

        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03003(){
        Q01001();//        验证白名单内卡号刷卡可以返回明文数据
        logUtils.addCaseLog("Q03002 execute");

        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03004() {
        Q01001();
        logUtils.addCaseLog("Q03004 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", false);
        cardOption.putBoolean("supportCTLSCard", false);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03005() {
        Q01001();
        logUtils.addCaseLog("Q03005 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", false);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", false);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03006() {
        Q01001();
        logUtils.addCaseLog("Q03006 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", false);
        cardOption.putBoolean("supportSmartCard", false);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03007() {
        Q01001();
        logUtils.addCaseLog("Q03007 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", false);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03008() {
        Q01001();
        logUtils.addCaseLog("Q03008 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", false);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03009() {
        Q01001();
        logUtils.addCaseLog("Q03009 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", false);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03010() {
        Q01001();
        logUtils.addCaseLog("Q03010 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", false);
        cardOption.putBoolean("supportSmartCard", false);
        cardOption.putBoolean("supportCTLSCard", false);
        My03cardDetection(cardOption, 60000, new MyListener());
    }


    public void Q03011() {
        logUtils.addCaseLog("Q03011 execute");
        My03cardDetection(null, 30, new MyListener());
    }

    public void Q03012() {
        Q01001();
        logUtils.addCaseLog("Q03012 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 60000, null);
    }

    public void Q03013() {
        Q01001();
        logUtils.addCaseLog("Q03013 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 30000, new MyListener());
    }

    public void Q03014() {
        Q01001();
        logUtils.addCaseLog("Q03014 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 0, new MyListener());
    }

    public void Q03015() {
        Q01001();
        logUtils.addCaseLog("Q03015 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, -1, new MyListener());
    }

    public void Q03016() {
        Q01001();
        logUtils.addCaseLog("Q03016 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 300000, new MyListener());
    }

    public void Q03017() {
        Q01001();
        logUtils.addCaseLog("Q03017 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 301000, new MyListener());
    }

    public void Q03018() {
        Q01001();
        logUtils.addCaseLog("Q03018 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03019() {
        Q01001();
        logUtils.addCaseLog("Q03019 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03020() {
        Q01001();
        logUtils.addCaseLog("Q03020 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03021() {
        Q01001();
        logUtils.addCaseLog("Q03021 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03022() {
        Q01001();
        logUtils.addCaseLog("Q03022 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03023() {
        Q01001();
        logUtils.addCaseLog("Q03023 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03024() {
        Q01001();
        logUtils.addCaseLog("Q03024 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 60000, new MyListener());
    }

    public void Q03025() {
        Q01001();
        logUtils.addCaseLog("Q03025 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 300000, new MyListener());
    }

    public void Q03026() {
        logUtils.addCaseLog("Q03026 execute");
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        My03cardDetection(cardOption, 300000, new MyListener());
    }


    public void Q04001() {
        logUtils.addCaseLog("Q04001 executed");
        My04setObfuscatedPanNum(6, 4);
    }


    public void Q04002() {
        logUtils.addCaseLog("Q04002 executed");
        My04setObfuscatedPanNum(8, 4);
    }

    public void Q04003() {
        logUtils.addCaseLog("Q04003 executed");
        My04setObfuscatedPanNum(6, 6);
    }

    public void Q04004() {
        logUtils.addCaseLog("Q04004 executed");
        My04setObfuscatedPanNum(7, 4);
    }

    public void Q04005() {
        logUtils.addCaseLog("Q04005 executed");
        My04setObfuscatedPanNum(-1, 4);
    }

    public void Q04006() {
        logUtils.addCaseLog("Q04006 executed");
        My04setObfuscatedPanNum(6, -1);
    }

    public void Q04007() {
        logUtils.addCaseLog("Q04007 executed");
        My04setObfuscatedPanNum(0, 4);
    }

    public void Q04008() {
        logUtils.addCaseLog("Q04008 executed");
        My04setObfuscatedPanNum(6, 0);
    }


    public void Q05001() {
//        获取插卡卡号
//        Q03001();
        logUtils.addCaseLog("Q05001 executed");

        int cardType = 0;
        String tag = "5A";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }
    public void Q05002() {
//        获取插卡卡号
//        Q03001();
        logUtils.addCaseLog("Q05002 executed");

        int cardType = 0;
        String tag = "9F33";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05003() {
//        获取插卡卡号
//        Q03001();
        logUtils.addCaseLog("Q05003 executed");

        int cardType = 0;
        String tag = "9F36";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05004() {
//        获取插卡卡号
//        Q03001();
        logUtils.addCaseLog("Q05004 executed");

        int cardType = 0;
        String tag = "25";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05005() {
//        获取插卡卡号
//        Q03001();
        logUtils.addCaseLog("Q05001 executed");

        int cardType = 0;
        String tag = "9A";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05006() {
//        获取插卡卡号
//        Q03001();
        logUtils.addCaseLog("Q05001 executed");

        int cardType = 0;
        String tag = "56";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05007() {
//        获取插卡卡号
//        Q03001();
        logUtils.addCaseLog("Q05001 executed");

        int cardType = 0;
        String tag = "57";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05008() {
//        获取插卡卡号
//        Q03001();
        logUtils.addCaseLog("Q05001 executed");

        int cardType = 0;
        String tag = "9F1F";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }


    public void Q05009() {
//        获取插卡卡号
//        Q03001();
        logUtils.addCaseLog("Q05001 executed");

        int cardType = 0;
        String tag = "9F20";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }


    public void Q05010() {
//        获取插卡卡号
//        Q03001();
        logUtils.addCaseLog("Q05001 executed");

        int cardType = 0;
        String tag = "5F24";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05011() {
//        获取插卡卡号
//        Q03001();
        logUtils.addCaseLog("Q05001 executed");

        int cardType = 0;
        String tag = "5F20";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05012() {
//        获取非接卡号
        logUtils.addCaseLog("Q05008 executed");

        int cardType = 1;
        String tag = "5A";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05013() {
//        获取非接卡号
        logUtils.addCaseLog("Q05009 executed");

        int cardType = 1;
        String tag = "9A";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x02);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05014() {
//        获取非接卡号
        logUtils.addCaseLog("Q05010 executed");

        int cardType = 1;
        String tag = "9F36";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x03);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05015() {
//        获取非接卡号
        logUtils.addCaseLog("Q05011 executed");

        int cardType = 1;
        String tag = "25";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x04);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05016() {
//        获取非接卡号
        logUtils.addCaseLog("Q05002 executed");

        int cardType = 1;
        String tag = "56";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x05);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05017() {
//        获取非接卡号
        logUtils.addCaseLog("Q05002 executed");

        int cardType = 1;
        String tag = "57";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05018() {
//        获取非接卡号
        logUtils.addCaseLog("Q05002 executed");

        int cardType = 1;
        String tag = "9F1F";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x07);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05019() {
//        获取非接卡号
        logUtils.addCaseLog("Q05002 executed");

        int cardType = 1;
        String tag = "9F20";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x07);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05020() {
//        获取非接卡号
        logUtils.addCaseLog("Q05002 executed");

        int cardType = 1;
        String tag = "5F24";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05021() {
//        获取非接卡号
        logUtils.addCaseLog("Q05002 executed");

        int cardType = 1;
        String tag = "5F20";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }


    public void Q05022() {
//        获取非接卡号
        logUtils.addCaseLog("Q05002 executed");

        int cardType = 1;
        String tag = "9F6B";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x07);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }


    public void Q05023() {
//        获取非接卡号
        logUtils.addCaseLog("Q05002 executed");

        int cardType = 1;
        String tag = "FF9005";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x07);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05024() {
//        获取非接卡号
        logUtils.addCaseLog("Q05024 executed");

        int cardType = 1;
        String tag = "FF9006";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x07);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05025(){
//        Q12001();
//        Q01001();
        logUtils.addCaseLog("Q05025 executed");
        //setPaddingAlignType
        int cardType = 0;
        String tag = "5F24";

        logUtils.addCaseLog("setPaddingAlignType executed");
        String key = "pan_expired";
        byte value = (byte) 0;
        Map<String,Byte> map = new HashMap<>();
        map.put(key,value);
        try {
            boolean ret = iSde.setPaddingAlignType(map);
            logUtils.addCaseLog("ret = "+ret);
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }

        My05getEncryptedData(cardType,tag,null);

    }

    public void Q05026(){
        logUtils.addCaseLog("Q05026 executed");
        //setPaddingAlignType
        int cardType = 0;
        String tag = "5F24";

        logUtils.addCaseLog("setPaddingAlignType executed");
        String key = "pan_expired";
        byte value = (byte) 1;
        Map<String,Byte> map = new HashMap<>();
        map.put(key,value);
        try {
            boolean ret = iSde.setPaddingAlignType(map);
            logUtils.addCaseLog("ret = "+ret);
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }

        My05getEncryptedData(cardType,tag,null);

    }

    public void Q05027(){

        logUtils.addCaseLog("Q05027 executed");
        //setPaddingAlignType
        int cardType = 0;
        String tag = "5F24";

        logUtils.addCaseLog("setPaddingAlignType executed");
        String key = "pan_expired";
        byte value = (byte) 2;
        Map<String,Byte> map = new HashMap<>();
        map.put(key,value);
        try {
            boolean ret = iSde.setPaddingAlignType(map);
            logUtils.addCaseLog("ret = "+ret);
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }

        My05getEncryptedData(cardType,tag,null);

    }

    public void Q05028(){

        logUtils.addCaseLog("Q05025 executed");
        //setPaddingAlignType
        int cardType = 1;
        String tag = "5F24";

        logUtils.addCaseLog("setPaddingAlignType executed");
        String key = "pan_expired";
        byte value = (byte) 0;
        Map<String,Byte> map = new HashMap<>();
        map.put(key,value);
        try {
            boolean ret = iSde.setPaddingAlignType(map);
            logUtils.addCaseLog("ret = "+ret);
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }

        My05getEncryptedData(cardType,tag,null);

    }

    public void Q05029(){

        logUtils.addCaseLog("Q05026 executed");
        //setPaddingAlignType
        int cardType = 1;
        String tag = "5F24";

        logUtils.addCaseLog("setPaddingAlignType executed");
        String key = "pan_expired";
        byte value = (byte) 1;
        Map<String,Byte> map = new HashMap<>();
        map.put(key,value);
        try {
            boolean ret = iSde.setPaddingAlignType(map);
            logUtils.addCaseLog("ret = "+ret);
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }

        My05getEncryptedData(cardType,tag,null);

    }

    public void Q05030(){

        logUtils.addCaseLog("Q05027 executed");
        //setPaddingAlignType
        int cardType = 1;
        String tag = "5F24";

        logUtils.addCaseLog("setPaddingAlignType executed");
        String key = "pan_expired";
        byte value = (byte) 2;
        Map<String,Byte> map = new HashMap<>();
        map.put(key,value);
        try {
            boolean ret = iSde.setPaddingAlignType(map);
            logUtils.addCaseLog("ret = "+ret);
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }

        My05getEncryptedData(cardType,tag,null);

    }

    public void Q05031() {
//        获取插卡卡号

        logUtils.addCaseLog("Q05001 executed");

        int cardType = 0;
        String tag = "5A";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x06);
        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05032() {
//        获取非接卡号
        logUtils.addCaseLog("Q05008 executed");

        int cardType = 1;
        String tag = "5A";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x01);
        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05033() {
//        获取插卡卡号
//        Q03001();
        logUtils.addCaseLog("Q05001 executed");

        int cardType = 0;
        String tag = "5A";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x01);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05034() {
//        获取非接卡号
        logUtils.addCaseLog("Q05008 executed");

        int cardType = 1;
        String tag = "5A";
        Bundle extend = new Bundle();
        extend.putInt("paddingType",0x01);
//        extend.putByte("paddingAlignType", (byte) 0);
        My05getEncryptedData(cardType,tag,extend);
    }

    public void Q05101(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "9F3602000291084CD9063B00860000");
        importData.putString("getCardData","StandardData");
        importData.putBoolean("isGetCardData",true);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"), importData));
        } catch (RemoteException e) {
            e.printStackTrace();
        }
    }

    public void Q05102() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //挥外卡返回的55域
        importData.putString("field55", "9F36020014910A0E8CCDA985E83E293030");
        importData.putString("getCardData","StandardData");
        importData.putBoolean("isGetCardData",true);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q05103() {//插卡，需要修改MEmvHandler-onConfirmCardInfo配置的tag,非sensitive tag
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "9F3602000291084CD9063B00860000");
        importData.putString("getCardData","StandardData");
        importData.putBoolean("isGetCardData",true);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"), importData));
        } catch (RemoteException e) {
            e.printStackTrace();
        }
    }

    public void Q05104() {//插卡，需要修改MEmvHandler-onConfirmCardInfo配置的tag,随便写个tag
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "9F3602000291084CD9063B00860000");
        importData.putString("getCardData","StandardData");
        importData.putBoolean("isGetCardData",true);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"), importData));
        } catch (RemoteException e) {
            e.printStackTrace();
        }
    }

    public void Q06001() {

        Q04001();
  //      Q08101();

        logUtils.addCaseLog("Q06001 execute");
        Intent intent = new Intent(context, SecurityKeyboardActivity.class);
        Bundle bundle = new Bundle();

        //在这里修改参数
        bundle.putByteArray("displayKeyValue",new byte[]{2,5,3,4,6,1,7,8,9,0});
        bundle.putByteArray("pinLimit",new byte[]{0, 4, 6, 13, 15, 16, 17, 18, 19, 20, 21,25});
        bundle.putInt("timeout",60);

        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

    }

    public void Q06002() {

        Q04001();
        logUtils.addCaseLog("Q06002 execute");
        Intent intent = new Intent(context, SecurityKeyboardActivity.class);
        Bundle bundle = new Bundle();

        //在这里修改参数
        bundle.putByteArray("displayKeyValue",new byte[]{2,1,7,0,8,9,5,3,4,6});
        bundle.putByteArray("pinLimit",new byte[]{0, 4, 6, 13, 15, 16, 17, 18, 19, 20, 21});
        bundle.putInt("timeout",60);

        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

    }

    public void Q06003() {

        Q04001();
        logUtils.addCaseLog("Q06003 execute");
        Intent intent = new Intent(context, SecurityKeyboardActivity.class);
        Bundle bundle = new Bundle();

        //在这里修改参数
        bundle.putByteArray("displayKeyValue",new byte[]{8,9,5,0,3,4,6,2,1,7});
        bundle.putByteArray("pinLimit",new byte[]{0, 4, 6, 13, 15, 16, 17, 18, 19, 20, 21});
        bundle.putInt("timeout",60);

        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

    }

    public void Q06004() {

        Q04001();
        logUtils.addCaseLog("Q06004 execute");
        Intent intent = new Intent(context, SecurityKeyboardActivity.class);
        Bundle bundle = new Bundle();

        //在这里修改参数
        bundle.putByteArray("displayKeyValue",new byte[]{8,9,5,3,4,6,2,0,1,7});
        bundle.putByteArray("pinLimit",new byte[]{0, 4, 6, 13, 15, 16, 17, 18, 19, 20, 21});
        bundle.putInt("timeout",60);

        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

    }

    public void Q06005() {

        Q04002();
        logUtils.addCaseLog("Q06005 execute");
        Intent intent = new Intent(context, SecurityKeyboardActivity.class);
        Bundle bundle = new Bundle();

        //在这里修改参数
        bundle.putByteArray("displayKeyValue",new byte[]{2,5,3,4,6,0,1,7,8,9});
        bundle.putByteArray("pinLimit",new byte[]{0, 4, 6, 13, 15, 16, 17, 18, 19, 20, 21});
        bundle.putInt("timeout",60);

        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

    }

    public void Q06006() {

        Q04002();
        logUtils.addCaseLog("Q06006 execute");
        Intent intent = new Intent(context, SecurityKeyboardActivity.class);
        Bundle bundle = new Bundle();

        //在这里修改参数
        bundle.putByteArray("displayKeyValue",new byte[]{2,1,7,8,9,5,0,3,4,6});
        bundle.putByteArray("pinLimit",new byte[]{0, 4, 6, 13, 15, 16, 17, 18, 19, 20, 21});
        bundle.putInt("timeout",60);

        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

    }

    public void Q06007() {

        Q04002();
        logUtils.addCaseLog("Q06007 execute");
        Intent intent = new Intent(context, SecurityKeyboardActivity.class);
        Bundle bundle = new Bundle();

        //在这里修改参数
        bundle.putByteArray("displayKeyValue",new byte[]{8,9,0,5,3,4,6,2,1,7});
        bundle.putByteArray("pinLimit",new byte[]{0, 4, 6, 13, 15, 16, 17, 18, 19, 20, 21});
        bundle.putInt("timeout",60);

        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

    }

    public void Q06008() {

        Q04002();
        logUtils.addCaseLog("Q06008 execute");
        Intent intent = new Intent(context, SecurityKeyboardActivity.class);
        Bundle bundle = new Bundle();

        //在这里修改参数
        bundle.putByteArray("displayKeyValue",new byte[]{8,9,5,3,4,0,6,2,1,7});
        bundle.putByteArray("pinLimit",new byte[]{0, 4, 6, 13, 15, 16, 17, 18, 19, 20, 21});
        bundle.putInt("timeout",60);

        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

    }

    public void Q06010() {

        logUtils.addCaseLog("Q06010 execute");
        Intent intent = new Intent(context, SecurityKeyboardActivity.class);
        Bundle bundle = new Bundle();

        //在这里修改参数
        bundle.putByteArray("displayKeyValue",new byte[]{8,9,5,3,4,0,6,2,1,7});
        bundle.putByteArray("pinLimit",new byte[]{0, 4, 6, 13, 15, 16, 17, 18, 19, 20, 21});
        bundle.putInt("timeout",60);

        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

    }

    public void Q06011() {

        logUtils.addCaseLog("Q06010 execute");
        Intent intent = new Intent(context, SecurityKeyboardActivity.class);
        Bundle bundle = new Bundle();

        //在这里修改参数
        bundle.putByteArray("displayKeyValue",new byte[]{0,1,2,3,4,5,6,7,8,9});
        bundle.putByteArray("pinLimit",new byte[]{0, 4, 6, 13, 15, 16, 17, 18, 19, 20, 21});
        bundle.putInt("timeout",60);

        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

    }


    public void Q06012() {

        logUtils.addCaseLog("Q06010 execute");
        Intent intent = new Intent(context, SecurityKeyboardActivity.class);
        Bundle bundle = new Bundle();

        //在这里修改参数
        bundle.putByteArray("displayKeyValue",new byte[]{0,1,2,3});
        bundle.putByteArray("pinLimit",new byte[]{0, 4, 6, 13, 15, 16, 17, 18, 19, 20, 21});
        bundle.putInt("timeout",60);

        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

    }

    public void Q07001(){
        logUtils.addCaseLog("我执行啦");
        byte[] encryptedData = KeyBoardDatas.getInstance().getEncryptedData();
        logUtils.addCaseLog("encryptedData = "+StringUtil.byte2HexStr(encryptedData));

    }



    public void Q08001() {

         Q01001();

        logUtils.addCaseLog("Q08001 execute,3SDE SLOT = 0");

        Intent intent = new Intent(context, PinInputActivity.class);
        Bundle bundle = new Bundle();

        //initPinInputView:
        bundle.putInt("keyId",0);
        bundle.putBoolean("isOnline",true);
        bundle.putByteArray("displayKeyValue",new byte[]{2,5,3,4,6,1,7,8,9,0});
        bundle.putByteArray("pinLimit",new byte[]{0,4,5,6});
        bundle.putInt("timeout",60);

        //startPinpad:
        bundle.putInt("keyId2",0);
        bundle.putInt("pinBlockType", 0x00);
        bundle.putInt("keySystem",0x02);
        bundle.putInt("mode",0x01);

//        bundle.putByte("dispersionType", (byte) 0x02);
//        bundle.putBoolean("notifyPinLenError",false);
//
        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

        Q06010();

    }

    public void Q08002() {
        Q01002();


        logUtils.addCaseLog("Q08002 execute,3SDE SLOT = 99");

        Intent intent = new Intent(context, PinInputActivity.class);
        Bundle bundle = new Bundle();

        //initPinInputView:
        bundle.putInt("keyId",99);
        bundle.putBoolean("isOnline",true);
        bundle.putByteArray("displayKeyValue",new byte[]{2,5,3,4,6,1,7,8,9,0});
        bundle.putByteArray("pinLimit",new byte[]{0,4,5,6});
        bundle.putInt("timeout",60);

        //startPinpad:
        bundle.putInt("keyId2",99);
        bundle.putInt("pinBlockType", 0x00);
        bundle.putInt("keySystem",0x02);
        bundle.putInt("mode",0x01);

//        bundle.putByte("dispersionType", (byte) 0x02);
//        bundle.putBoolean("notifyPinLenError",false);
//
        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

        Q06010();

    }


    public void Q08003(){
        Q01003();
        logUtils.addCaseLog("Q08003 execute,AES SLOT = 0");
        Intent intent = new Intent(context, PinInputActivity.class);
        Bundle bundle = new Bundle();

        //initPinInputView:
        bundle.putInt("keyId",0);
        bundle.putBoolean("isOnline",true);
        bundle.putByteArray("displayKeyValue",new byte[]{2,5,3,4,6,1,7,8,9,0});
        bundle.putByteArray("pinLimit",new byte[]{0,4,5,6});
        bundle.putInt("timeout",60);

        //startPinpad:
        bundle.putInt("keyId2",0);
        bundle.putInt("pinBlockType", 0x04);
        bundle.putInt("keySystem",0x02);
        bundle.putInt("mode",0x01);

        bundle.putByte("dispersionType", (byte) 0x02);
        bundle.putBoolean("notifyPinLenError",false);
//
        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

        Q06010();
    }

    public void Q08004(){
        Q01004();
        logUtils.addCaseLog("Q08004 execute,AES SLOT = 99");
        Intent intent = new Intent(context, PinInputActivity.class);
        Bundle bundle = new Bundle();

        //initPinInputView:
        bundle.putInt("keyId",99);
        bundle.putBoolean("isOnline",true);
        bundle.putByteArray("displayKeyValue",new byte[]{2,5,3,4,6,1,7,8,9,0});
        bundle.putByteArray("pinLimit",new byte[]{0,4,5,6});
        bundle.putInt("timeout",60);

        //startPinpad:
        bundle.putInt("keyId2",99);
        bundle.putInt("pinBlockType", 0x04);
        bundle.putInt("keySystem",0x02);
        bundle.putInt("mode",0x01);

        bundle.putByte("dispersionType", (byte) 0x02);
        bundle.putBoolean("notifyPinLenError",false);
//
        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

        Q06010();
    }

    public void Q08005(){
        Q01006();
        logUtils.addCaseLog("Q08005 execute,AES SLOT = 3");
        Intent intent = new Intent(context, PinInputActivity.class);
        Bundle bundle = new Bundle();

        //initPinInputView:
        bundle.putInt("keyId",3);
        bundle.putBoolean("isOnline",true);
        bundle.putByteArray("displayKeyValue",new byte[]{2,5,3,4,6,1,7,8,9,0});
        bundle.putByteArray("pinLimit",new byte[]{0,4,5,6});
        bundle.putInt("timeout",60);

        //startPinpad:
        bundle.putInt("keyId2",3);
        bundle.putInt("pinBlockType", 0x04);
        bundle.putInt("keySystem",0x02);
        bundle.putInt("mode",0x01);

        bundle.putByte("dispersionType", (byte) 0x03);
        bundle.putBoolean("notifyPinLenError",false);
//
        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

        Q06010();

    }

    public void Q08006(){
        Q01007();
        logUtils.addCaseLog("Q08006 execute,AES SLOT = 4");
        Intent intent = new Intent(context, PinInputActivity.class);
        Bundle bundle = new Bundle();

        //initPinInputView:
        bundle.putInt("keyId",6);
        bundle.putBoolean("isOnline",true);
        bundle.putByteArray("displayKeyValue",new byte[]{2,5,3,4,6,1,7,8,9,0});
        bundle.putByteArray("pinLimit",new byte[]{0,4,5,6});
        bundle.putInt("timeout",60);

        //startPinpad:
        bundle.putInt("keyId2",6);
        bundle.putInt("pinBlockType", 0x04);
        bundle.putInt("keySystem",0x02);
        bundle.putInt("mode",0x01);

        bundle.putByte("dispersionType", (byte) 0x04);
        bundle.putBoolean("notifyPinLenError",false);
//
        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

        Q06010();

    }

    public void Q08007(){
        Q01008();
        logUtils.addCaseLog("Q08007 execute,AES SLOT = 5");
        Intent intent = new Intent(context, PinInputActivity.class);
        Bundle bundle = new Bundle();

        //initPinInputView:
        bundle.putInt("keyId",13);
        bundle.putBoolean("isOnline",true);
        bundle.putByteArray("displayKeyValue",new byte[]{2,5,3,4,6,1,7,8,9,0});
        bundle.putByteArray("pinLimit",new byte[]{0,4,5,6});
        bundle.putInt("timeout",60);

        //startPinpad:
        bundle.putInt("keyId2",13);
        bundle.putInt("pinBlockType", 0x04);
        bundle.putInt("keySystem",0x02);
        bundle.putInt("mode",0x01);

        bundle.putByte("dispersionType", (byte) 0x00);
        bundle.putBoolean("notifyPinLenError",false);
//
        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

        Q06010();

    }

    public void Q08008(){
        Q01009();
        logUtils.addCaseLog("Q08008 execute,AES SLOT = 6");
        Intent intent = new Intent(context, PinInputActivity.class);
        Bundle bundle = new Bundle();

        //initPinInputView:
        bundle.putInt("keyId",14);
        bundle.putBoolean("isOnline",true);
        bundle.putByteArray("displayKeyValue",new byte[]{2,5,3,4,6,1,7,8,9,0});
        bundle.putByteArray("pinLimit",new byte[]{0,4,5,6});
        bundle.putInt("timeout",60);

        //startPinpad:
        bundle.putInt("keyId2",14);
        bundle.putInt("pinBlockType", 0x04);
        bundle.putInt("keySystem",0x02);
        bundle.putInt("mode",0x01);

        bundle.putByte("dispersionType", (byte) 0x01);
        bundle.putBoolean("notifyPinLenError",false);
//
        intent.putExtra("initBundle",bundle);
        context.startActivity(intent);

        Q06010();

    }



    public void Q09001(){

    }

    public void Q10001() {
        My10cleanSensitiveData();
    }

    public void Q11001() {
        My11getSDEVer();
    }

    public void Q12001(){
//        ((MyApplication) context).serviceMoudle.getPinpadMoudle().L02001();
        byte[] KSN = Utils.hexStr2Bytes(ksn);
        byte[] key = Utils.hexStr2Bytes(dukptKey);
        Bundle bundle = new Bundle ();
        bundle.putBoolean("isPlainKey",true);
//        bundle.putInt("TEKIndex",0);
        bundle.putBoolean("KSNAutoIncrease",false);
        boolean retValue = My12loadDukptKey(0,KSN,key,null,bundle);
        if(retValue){
            logUtils.addCaseLog("Q12001 case result：" + retValue + "，execute case success！");
            return;
        }
        logUtils.addCaseLog("Q12001 case result：" + retValue + "，execute case Failed！");
    }

    public void Q12002(){
        byte[] KSN = Utils.hexStr2Bytes(ksnAES);
        byte[] key = Utils.hexStr2Bytes(dukptKey);
        Bundle bundle = new Bundle ();
        bundle.putBoolean("isPlainKey",true);
        bundle.putInt("keyType",1);
        bundle.putBoolean("KSNAutoIncrease",false);
        boolean retValue = My12loadDukptKey(0,KSN,key,null,bundle);
        if(retValue){
            logUtils.addCaseLog("Q12001 case result：" + retValue + "，execute case success！");
            return;
        }
        logUtils.addCaseLog("Q12001 case result：" + retValue + "，execute case Failed！");
    }
//    public void Q12002(){
//        Bundle startEmvData = new Bundle();
//        Bundle importData = new Bundle();
//
//        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
//        startEmvData.putInt("cardType", 0);
//        startEmvData.putByte("transProcessCode", (byte) 0x00);
//        startEmvData.putLong("authAmount", 1);
//        startEmvData.putBoolean("isSupportSM", true);
//        startEmvData.putBoolean("isForceOnline", false);
//        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
//        startEmvData.putString("merchantId", "123456789012345");
//        startEmvData.putString("terminalId", "12345678");
//
//        importData.putInt("IsPinInput", 1);
//        importData.putString("importPIN", "9876");
//        importData.putBoolean("cancelCardConfirmResult", false);
//
//        importData.putBoolean("isOnline", true);
//        importData.putString("respCode", "00");
//        importData.putString("authCode", "123456");
//        //插外卡返回的55域
//        importData.putString("field55", "9F3602000291084CD9063B00860000");
//
//        try {
//            MStartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType", 0), importData));
//        } catch (RemoteException e) {
//            e.printStackTrace();
//        }
//    }


    public void Q13001(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");
//        importData.putString("getCardData","StandardData");
//        importData.putBoolean("isGetCardData",true);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"), importData));
        } catch (RemoteException e) {
            e.printStackTrace();
        }
    }

    public void Q13002() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //挥外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");
//        importData.putString("getCardData","StandardData");
//        importData.putBoolean("isGetCardData",true);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13003() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x20);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(2, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

//    public void Q13004() {
//        Bundle startEmvData = new Bundle();
//        Bundle importData = new Bundle();
//
//        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
//        startEmvData.putInt("cardType", 0);
//        startEmvData.putByte("transProcessCode", (byte) 0x20);
//        startEmvData.putLong("authAmount", 1);
//        startEmvData.putBoolean("isSupportSM", true);
//        startEmvData.putBoolean("isForceOnline", false);
//        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
//        startEmvData.putString("merchantId", "123456789012345");
//        startEmvData.putString("terminalId", "12345678");
//
//        importData.putInt("IsPinInput", 1);
//        importData.putString("importPIN", "9876");
//        importData.putBoolean("cancelCardConfirmResult", false);
//
//        importData.putBoolean("isOnline", true);
//        importData.putString("respCode", "00");
//        importData.putString("authCode", "123456");
//        //插外卡返回的55域
//        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");
//
//        try {
//            My13StartEMV(2, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
//        } catch (RemoteException e) {
//            throw new RuntimeException(e);
//        }
//    }

    public void Q13005() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x20);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //挥外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(2, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

//    public void Q13006() {
//        Bundle startEmvData = new Bundle();
//        Bundle importData = new Bundle();
//
//        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
//        startEmvData.putInt("cardType", 1);
//        startEmvData.putByte("transProcessCode", (byte) 0x20);
//        startEmvData.putLong("authAmount", 1);
//        startEmvData.putBoolean("isSupportSM", true);
//        startEmvData.putBoolean("isForceOnline", false);
//        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
//        startEmvData.putString("merchantId", "123456789012345");
//        startEmvData.putString("terminalId", "12345678");
//
//        importData.putInt("IsPinInput", 1);
//        importData.putString("importPIN", "9876");
//        importData.putBoolean("cancelCardConfirmResult", false);
//
//        importData.putBoolean("isOnline", true);
//        importData.putString("respCode", "00");
//        importData.putString("authCode", "123456");
//        //挥外卡返回的55域
//        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");
//
//        try {
//            My13StartEMV(2, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
//        } catch (RemoteException e) {
//            throw new RuntimeException(e);
//        }
//    }

    public void Q13007(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13008(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13009(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();


        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x31);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13010(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x31);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13011(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x40);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13012(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x40);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13013(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x03);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", null);
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13014(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x03);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13015(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x0B);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", false);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");
        importData.putString("getCardData", "StandardData");
        importData.putBoolean("isGetCardData", true);

        try {
            My13StartEMV(2, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13016(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x0B);
        startEmvData.putLong("authAmount", 101);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", false);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //挥外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");
        importData.putString("getCardData", "StandardData");//standarddatd就是四个tag：9F79、9F51,DF79,DF71
        importData.putBoolean("isGetCardData", true);
        try {
            My13StartEMV(2, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }
    public void Q13017(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", null);

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13018(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13019(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "1234567");

        importData.putInt("importAppSelectindex", 1);
        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13020(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1000000);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "123456789");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13021(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"), importData));
        } catch (RemoteException e) {
            e.printStackTrace();
        }
    }

    public void Q13022(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //挥外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13023(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q13024(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }


    public void Q13025(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 101);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //挥外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }


    public void Q14001() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", true);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q14002() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 0);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q14003() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 101);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", true);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //挥外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q14004() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 101);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 0);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        importData.putBoolean("cancelEmvWhenInputPin", true);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //挥外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q14005() {
        My14abortEMV();
    }

    public void Q14006() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        importData.putBoolean("cancelSelectApplication", true);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "5F2A0207645F34010082021C0095058080008000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q15001() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("importAppSelectindex", 1);
        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q15002() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("importAppSelectindex", 1);
        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q15003() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("importAppSelectindex", 2);
        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q15004() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("importAppSelectindex", 0);
        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q16001() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 100001);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }


    public void Q16002() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 0);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q16003() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1600);//大于DF21
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q16004() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 101);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 0);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q16005() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "123456");
        importData.putBoolean("cancelCardConfirmResult", false);
        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q16006() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 101);//大于DF21的值，才能输密
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "123456");
        importData.putBoolean("cancelCardConfirmResult", false);
        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q16007() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q16008() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q17001() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", true);
        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q17002() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q17003() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", true);
        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q17004() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }


    public void Q18001() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "9F3602000291084CD9063B00860000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q18002() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "09");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "9F3602000291084CD9063B00860000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q18003() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //挥外卡返回的55域
        importData.putString("field55", "9F36020014910A0E8CCDA985E83E293030");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q18004() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "01");
        importData.putString("authCode", "123456");
        //挥外卡返回的55域
        importData.putString("field55", "9F36020014910A0E8CCDA985E83E293030");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q18005() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", false);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "9F3602000291084CD9063B00860000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q18006() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", false);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //挥外卡返回的55域
        importData.putString("field55", "9F3602000291084CD9063B00860000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q19001() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "9F3602000291084CD9063B00860000");

        ArrayList emvData = new ArrayList<String>();
        emvData.add("5F2A020840");
        emvData.add("9F0206000000000123");

        importData.putStringArrayList("emvDataList", emvData);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q19002() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "9F3602114B950580800080009A0323");

        ArrayList emvData = new ArrayList<String>();
        emvData.add("5F2A020764");
        emvData.add("9F0206000000000151");

        importData.putStringArrayList("emvDataList", emvData);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q19003() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        importData.putBoolean("issetEMVdata", true);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "9F3602000291084CD9063B00860000");

        ArrayList emvData = new ArrayList<String>();
        emvData.add("5F2A020840");
        emvData.add("9F0206000000056789");

        importData.putStringArrayList("emvDataList", emvData);
        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q19004() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 101);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        importData.putBoolean("issetEMVdata", true);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //挥外卡返回的55域
        importData.putString("field55", "9F36020014910A0E8CCDA985E83E293030");

        ArrayList emvData = new ArrayList<String>();
        emvData.add("5F2A020840");
        emvData.add("9F0206000000004567");

        importData.putStringArrayList("emvDataList", emvData);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q20001() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        importData.putBoolean("getAppTLVListOption", true);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "9F3602000291084CD9063B00860000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q20002() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 101);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        importData.putBoolean("getAppTLVListOption", true);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //挥外卡返回的55域
        importData.putString("field55", "9F36020014910A0E8CCDA985E83E293030");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q20003() {

        String[] taglist = {"9F15"};
        My20getAppTLVList(taglist);
    }

    public void Q21001() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        importData.putBoolean("getEMVata", true);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "9F3602000291084CD9063B00860000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q21002() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 1);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 101);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);
        importData.putBoolean("getEMVata", true);

        importData.putBoolean("isOnline", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //挥外卡返回的55域
        importData.putString("field55", "9F36020014910A0E8CCDA985E83E293030");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q23001(){
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", false);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", false);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("importAppSelectindex", 1);
        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }
    }

    public void Q23002() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putBoolean("isForceOnlineWhenCardConfirm", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "9F3602000291084CD9063B00860000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }

    }


    public void Q23003() {
        Bundle startEmvData = new Bundle();
        Bundle importData = new Bundle();

        startEmvData.putBoolean("isPanConfirmOnSimpeProcess", true);
        startEmvData.putInt("cardType", 0);
        startEmvData.putByte("transProcessCode", (byte) 0x00);
        startEmvData.putLong("authAmount", 1);
        startEmvData.putBoolean("isSupportSM", true);
        startEmvData.putBoolean("isForceOnline", false);
        startEmvData.putString("merchantName", "Overseas version of Service test EMV process");
        startEmvData.putString("merchantId", "123456789012345");
        startEmvData.putString("terminalId", "12345678");

        importData.putInt("IsPinInput", 1);
        importData.putString("importPIN", "9876");
        importData.putBoolean("cancelCardConfirmResult", false);

        importData.putBoolean("isOnline", true);
        importData.putBoolean("isForceOnlineWhenInputPin", true);
        importData.putString("respCode", "00");
        importData.putString("authCode", "123456");
        //插外卡返回的55域
        importData.putString("field55", "9F3602000291084CD9063B00860000");

        try {
            My13StartEMV(1, startEmvData, new MEmvHandler(startEmvData.getInt("cardType"),importData));
        } catch (RemoteException e) {
            throw new RuntimeException(e);
        }

    }

    public void Q24001() {
        Q03026();
        My24enableTrack(6);
    }

    //setByPassAllPin=true
    public void Q25001() {
        My25byPassPin(true);
        Q13001();
    }

    //setByPassAllPin=false
    public void Q25002() {
        My25byPassPin(false);
        Q13001();
    }

    // AC TYPE  0-AAC
    public void Q26001() {
        int acType = 0;
        My26setAcType(new SdeMoudle.MyAcTypeCallback(acType));
        Q13001();
    }

    // AC TYPE   1-ARQC
    public void Q26002() {
        int acType = 1;
        My26setAcType(new SdeMoudle.MyAcTypeCallback(acType));
        Q13001();
    }

    // AC TYPE  2-TC
    public void Q26003() {
        int acType = 2;
        My26setAcType(new SdeMoudle.MyAcTypeCallback(acType));
        Q13001();
    }


    private class MyAcTypeCallback extends RequestACTypeHandler.Stub {
        private int type;

        public MyAcTypeCallback(int type) {
            this.type = type;
        }

        @Override
        public void requestConfirmACType(String aid, int defaultACType) throws RemoteException {
            logUtils.addCaseLog("requestConfirmACType aid=" + aid + ",defaultACType = " + defaultACType);
            logUtils.addCaseLog("setRequestACType:" + type);
            iEmv.setRequestACType(type);
        }

    }



    public void MStartEMV(final int processType, final Bundle intent, final EMVHandler emvhandler) throws RemoteException {
        Bundle cardOption = new Bundle();
        cardOption.putBoolean("supportMagCard", true);
        cardOption.putBoolean("supportSmartCard", true);
        cardOption.putBoolean("supportCTLSCard", true);
        String msg;

        if (intent == null) {
            msg = "The ginseng error";
            Message message = new Message();
            message.getData().putString("message", msg);
            handler.sendMessage(message);
            return;
        }
        if (intent.getBoolean("doNotChangeCardType")) {
            int cardType = intent.getInt("cardType");
            if (cardType == 0) logUtils.addCaseLog("Please insert the card");
            else if (cardType == 1) logUtils.addCaseLog("Please swipe the card");
        } else logUtils.addCaseLog("Please insert/wave/swipe your card");


        iSde.cardDetection(cardOption, 30*1000, new CardDetectionListener.Stub() {
            String msg;

            @Override
            public void onCardSwiped(Bundle track) throws RemoteException {
                msg = "Card detection: credit card swiped successfully";
                Message message = new Message();
                message.getData().putString("message", msg);
                handler.sendMessage(message);

                MStopCheckCard();
            }

            @Override
            public void onCardPowerUp() throws RemoteException {
                msg = "Card test: IC card inserted successfully";
                Message message = new Message();
                message.getData().putString("message", msg);
                handler.sendMessage(message);

                MStopCheckCard();

                if (emvhandler == null) {
                    message = new Message();
                    msg = "Handler is null";
                    message.getData().putString("message", msg);
                    handler.sendMessage(message);
                }
                try {
                    Bundle intent1 = intent;
                    iEmv.startEMV(processType, intent1, emvhandler);
                } catch (RemoteException e) {
                    e.printStackTrace();
                }
            }

            @Override
            public void onCardActivate() throws RemoteException {
                msg = "Card test: the card is successfully connected";
                Message message = new Message();
                message.getData().putString("message", msg);
                handler.sendMessage(message);

                MStopCheckCard();

                if (emvhandler == null) {
                    message = new Message();
                    Log.d(TAG, "Handler is null");
                    msg = "Handler is null";
                    message.getData().putString("message", msg);
                    handler.sendMessage(message);
                }

                try {
                    Bundle intent1 = intent;

                    /*don't change transaction type for test case K17, card type will be changed according the check card result for other test case */
                    if (intent.getBoolean("doNotChangeCardType") == false)
                        intent1.putInt("cardType", 1);

                    iEmv.startEMV(processType, intent1, emvhandler);
                } catch (RemoteException e) {
                    e.printStackTrace();
                }
            }

            @Override
            public void onTimeout() throws RemoteException {
                logUtils.addCaseLog("Card detection: timeout");
                MStopCheckCard();
                Message message1 = new Message();
                message1.getData().putString("message", msg);
                handler.sendMessage(message1);
            }

            @Override
            public void onError(int error, String message) throws RemoteException {
                msg = "Card detection: Error" + error + message;

                MStopCheckCard();
                Message message1 = new Message();
                if (error == 3) message1.getData().putString("message", msg + "Fallback deal");
                else message1.getData().putString("message", msg);
                handler.sendMessage(message1);
            }
        });
    }

    public void MStopCheckCard() {
        try {
            long startTime = System.currentTimeMillis();
            iEmv.stopCheckCard();
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("stopCheckCard executeTime" + (endTime - startTime));
        } catch (RemoteException e) {
            logUtils.addCaseLog("stopCheckCard execute exception");
            e.printStackTrace();
        }
    }

    private class MyListener extends CardDetectionListener.Stub {

        String msg;
        long startTime = System.currentTimeMillis();
        boolean needSecondTapScript = false;

        @Override
        public void onCardSwiped(Bundle track) throws RemoteException {
            msg = "PAN:" + track.getString("PAN") + "\nTRACK1:" + track.getString("TRACK1") + "\nTRACK2:" + track.getString("TRACK2") + "\nTRACK3:" + track.getString("TRACK3") + "\nSERVICE_CODE:" + track.getString("SERVICE_CODE") + "\nEXPIRED_DATE:" + track.getString("EXPIRED_DATE");
            Message message = new Message();
            message.getData().putString("message", msg);
            handler.sendMessage(message);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("onCardSwiped execute Time" + (endTime - startTime));
//            My28turnOff(1);
        }

        @Override
        public void onCardPowerUp() throws RemoteException {
//            ((MyApplication) context).serviceMoudle.getBeerMoudle().B01006();
            msg = "Card test: IC card inserted successfully";
            Message message = new Message();
            message.getData().putString("message", msg);
            handler.sendMessage(message);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("onCardPowerUp execute Time" + (endTime - startTime));
        }

        @Override
        public void onCardActivate() throws RemoteException {
            msg = "Card test: successfully waved the card";
            Message message = new Message();
            message.getData().putString("message", msg);
            handler.sendMessage(message);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("onCardActivate execute Time" + (endTime - startTime));
//            My28turnOff(1);
//            if (needSecondTapScript) {
//                ;
//            }
        }

        @Override
        public void onTimeout() throws RemoteException {
            msg = "Card detection: timeout";
            Message message = new Message();
            message.getData().putString("message", msg);
            handler.sendMessage(message);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("onTimeout execute Time" + (endTime - startTime));
        }

        @Override
        public void onError(int error, String message) throws RemoteException {
            msg = "Check card error code = " + error + " " + message;
            Message message1 = new Message();
            message1.getData().putString("message", msg);
            handler.sendMessage(message1);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("onError execute Time" + (endTime - startTime));
        }
    }


    private class MEmvHandler extends EMVHandler.Stub {
        String msg;
        String str;
        Bundle importData;
        int cardType = -1;

        public MEmvHandler(Bundle importData) {
            this.importData = importData;
        }

        public MEmvHandler(int cardType, Bundle importData) {
            this.cardType = cardType;
            this.importData = importData;
        }

        @Override
        public void onRequestAmount() throws RemoteException {
            Log.d(TAG, "onRequestAmount callback");
            Boolean cancelAmountConfirmResult = importData.getBoolean("cancelAmountConfirmResult");
            if (cancelAmountConfirmResult) {
                My14abortEMV();
                msg = "Cancel import amount";
            } else {
                msg = "Please import the amount:" + importData.getLong("importAmount");
                //import amount to kernel
                MImportAmount(importData.getLong("importAmount"));
            }
            Message message1 = new Message();
            message1.getData().putString("message", msg);
            handler.sendMessage(message1);
        }

        @Override
        public void onSelectApplication(List<Bundle> appList) throws RemoteException {
            int i = 1;
            Log.d(TAG, "onSelectApplication callback");

            Boolean cancelSelectApplication = importData.getBoolean("cancelSelectApplication");
            if (cancelSelectApplication) {
                My14abortEMV();
                logUtils.addCaseLog("Deselect the application");
                return;
            }
            if (importData.getString("testAppSelectTimeOut", null) != null) {
                logUtils.addCaseLog("AppSelectTimeOut=" + importData.getString("testAppSelectTimeOut", null));
                logUtils.addCaseLog("test app selection timeout,skip import app selection flow");
                return;
            }

            for (Bundle app : appList) {
                String str1 = app.getString("aidName");
                String str2 = app.getString("aidLabel");
                String str3 = app.getString("aid");
                msg = msg + (i++ + ".aidName=" + str1 + " aidLabel=" + str2 + " aid=" + str3 + "\n");
            }
            Message message1 = new Message();
            message1.getData().putString("message", msg);
            handler.sendMessage(message1);

            MImportAppSelect(importData.getInt("importAppSelectindex"));
        }

        @Override
        public void onConfirmCardInfo(Bundle info) throws RemoteException {
//            Looper.prepare();
            String result = "onConfirmCardInfo callback, \nPAN:" + info.getString("PAN") + "\nTRACK2:" + info.getString("TRACK2") + "\nCARD_SN:" + info.getString("CARD_SN") + "\nSERVICE_CODE:" + info.getString("SERVICE_CODE") + "\nEXPIRED_DATE:" + info.getString("EXPIRED_DATE") + "\nCARD_TYPE:" + info.getInt("CARD_TYPE");

            Boolean getData = importData.getBoolean("getEMVata");
            if (getData) {
                String strs = "PAN:" + My21getEMVData("PAN") + "\n" + "TRACK2:" + My21getEMVData("TRACK2") + "\n" + "CARD_SN:" + My21getEMVData("CARD_SN") + "\n" + "EXPIRED_DATE:" + My21getEMVData("EXPIRED_DATE") + "\n" + "DATE:" + My21getEMVData("DATE") + "\n" + "TIME:" + My21getEMVData("TIME") + "\n" + "BALANCE:" + My21getEMVData("BALANCE") + "\n" + "CURRENCY:" + My21getEMVData("CURRENCY");

                Log.d(TAG, "getEMVData : " + strs);
                msg = strs;
//                logUtils.addCaseLog(msg);
                Message message1 = new Message();
////                message1.getData().putString("message", "");
                message1.getData().putString("message", msg);
                handler.sendMessage(message1);
            }

            boolean isGetCardData = importData.getBoolean("isGetCardData");
            logUtils.addCaseLog("下面判断是否获取tag：");
            logUtils.addCaseLog("getCardData ="+importData.getString("getCardData"));
            if (isGetCardData) {
                logUtils.addCaseLog("isGetCardData = "+isGetCardData);
                if ("StandardData".equals(importData.getString("getCardData"))) {
                    if (cardType == 0){
                        logUtils.addCaseLog("下面添加接触的tag");
                        My05getEncryptedData(0,"5A",null);//pan
                        My05getEncryptedData(0,"56",null);//track1
                        My05getEncryptedData(0,"57",null);//track2
                        My05getEncryptedData(0,"9F1F",null);//track1 DD
                        My05getEncryptedData(0,"9F20",null);//track2 DD
                        My05getEncryptedData(0,"5F24",null);//Expiration Date
                        My05getEncryptedData(0,"5F20",null);//CardHolder Name
                        My05getEncryptedData(0,"9F33",null);
                        My05getEncryptedData(0,"9F26",null);
//                        My05getEncryptedData(0,"9F00",null);
                        logUtils.addCaseLog("添加完毕");

                    }else if (cardType == 1){
                        logUtils.addCaseLog("下面添加非接的tag");
                        My05getEncryptedData(1,"5A",null);//pan
                        My05getEncryptedData(1,"56",null);//track1
                        My05getEncryptedData(1,"57",null);//track2
                        My05getEncryptedData(1,"9F1F",null);//track1 DD
                        My05getEncryptedData(1,"9F20",null);//track2 DD
                        My05getEncryptedData(1,"5F24",null);//Expiration Date
                        My05getEncryptedData(1,"9F6B",null);//MSD track2
                        My05getEncryptedData(1,"FF9005",null);//MSD Pseudo track1
                        My05getEncryptedData(1,"FF9006",null);//MSD Pseudo track2
                        My05getEncryptedData(1,"5F20",null);//CardHolder Name
                        My05getEncryptedData(1,"9F26",null);
                        logUtils.addCaseLog("添加完毕");
                    }else {
                        logUtils.addCaseLog("cardType 不存在");
                    }
                }else {
                    logUtils.addCaseLog("getCardData != StandardData，不获取tag");
                }
            }else {
                logUtils.addCaseLog("isGetCardData = "+isGetCardData);
            }

            ArrayList<String> emvData = importData.getStringArrayList("emvDataList");
            if (emvData!=null){
                My19setEMVData(emvData);
            }

            if (importData.getBoolean("emptyEmvData")){
                My19setEMVData(null);
            }

            if (importData.getBoolean("isForceOnlineWhenCardConfirm")){
                My23emvProcessingRequestOnline();
            }


            Boolean CancelCardConfirmResult = importData.getBoolean("cancelCardConfirmResult");

            if (CancelCardConfirmResult) {
                msg = "Card number:" + info.getString("PAN") + "cancel";
                MImportCardConfirmResult(false);
            } else {
                msg = "Card number:" + info.getString("PAN") + "confirm";
                MImportCardConfirmResult(true);
            }

            msg = result;
            Message message1 = new Message();
            message1.getData().putString("message", msg);
//            logUtils.addCaseLog("onConfirmCardInfo: "+msg);
            Log.d(TAG, "onConfirmCardInfo: " + msg);
            handler.sendMessage(message1);

        }

        @Override
        public void onRequestInputPIN(boolean isOnlinePin, int retryTimes) throws RemoteException {

            String result = "onRequestInputPIN callback, isOnlinePin:" + isOnlinePin + "\n" + "retryTimes:" + retryTimes;

            int IsPinInput = importData.getInt("IsPinInput");

            if (importData.getBoolean("isPinpadError")) {
                Log.d(TAG,"isPinpadError == true");
                if (isOnlinePin) msg = "Request online PIN: password keyboard error";
                else msg = "Request offline PIN: password keyboard error";
            } else {
                Log.d(TAG,"isPinpadError == false");

                if (IsPinInput == 0) {
                    Log.d(TAG,"isPinInput = "+IsPinInput);
                    if (isOnlinePin) msg = "Request online PIN: Cancel";
                    else msg = "Request offline PIN: Cancel";
//                    My14abortEMV();
                } else {
                    Log.d(TAG,"isPinInput = "+IsPinInput);
                    if (isOnlinePin) {
                        msg = "Request online PIN: " + IsPinInput;

                    }
                    else msg = "Request offline PIN: " + IsPinInput + "Retry count：" + retryTimes;
                }
            }

            ArrayList<String> emvData = importData.getStringArrayList("emvDataList");
            if (emvData!=null && !emvData.isEmpty()){
                My19setEMVData(emvData);
            }

            //Q14004案例，属于密码时取消EMV
            if (importData.getBoolean("cancelEmvWhenInputPin")) {
                Q14005();
            }

            msg = result;
//            logUtils.addCaseLog(msg);
            Message message1 = new Message();
            message1.getData().putString("message", msg);
            handler.sendMessage(message1);


            if (importData.getBoolean("isForceOnlineWhenInputPin")) {
                My23emvProcessingRequestOnline();
            }

            //联机PIN直接导入，脱机PIN调用密码假盘
            if (!isOnlinePin) {
                Log.d(TAG,"脱机调用密码键盘");
                My08initPinInputView(importData);
            } else {
                Log.d(TAG,"联机直接导入");
                String importpin = importData.getString("importPIN");
                if (importpin == null) {
                    MImportPin(IsPinInput, null);
                }
                else {
                    MImportPin(IsPinInput, importpin.getBytes());
                }
            }
        }

        @Override
        public void onConfirmCertInfo(String certType, String certInfo) throws RemoteException {
            Log.d(TAG, "onConfirmCertInfo callback, certType:" + certType + "certInfo:" + certInfo);

            msg = "Certification: Confirmation";
            Message message1 = new Message();
            message1.getData().putString("message", msg);
            handler.sendMessage(message1);

            iEmv.importCertConfirmResult(1);
        }

        @Override
        public void onRequestOnlineProcess(Bundle aaResult) throws RemoteException {
            String result = "onRequestOnlineProcess callback SIGNATURE:" + aaResult.getBoolean("SIGNATURE") + "\nCTLS_CVMR:" + aaResult.getInt("CTLS_CVMR") + "\nRESULT:" + aaResult.getInt("RESULT") + "\nARQC_DATA:" + aaResult.getString("ARQC_DATA") + "\nREVERSAL_DATA:" + aaResult.getString("REVERSAL_DATA");

            Boolean getAppTLVListOption = importData.getBoolean("getAppTLVListOption");
            Boolean isGetCardData = importData.getBoolean("isGetCardData");
            Log.d(TAG,"isGetCardData = "+isGetCardData);
            if (getAppTLVListOption) {
                String[] strlist = {"9F26", "9F27", "9F10", "9F37", "9F1A", "9F36", "95", "9A", "9C", "9F02", "5F2A", "82", "9F03", "9F33", "9F34", "9F35", "84", "9F1E", "9F09", "9F41", "8E", "9F63"};
                My20getAppTLVList(strlist);
            }
            msg = "\nOnline request: " + "\n" + result;
            logUtils.addCaseLog("\nOnline request: " + "\n" + result);
//            Message message1 = new Message();
//            message1.getData().putString("message", msg);
//            handler.sendMessage(message1);
            /*Go online*/
            /*do online finish process, 2nd GAC*/
            MImportOnlineResult(importData, new MyOnlineResultHandler());
        }

        @Override
        public void onTransactionResult(int result, Bundle data) throws RemoteException {
            Log.i(TAG, "onTransactionResult callback, result:" + result + "\nTC_DATA:" + data.getString("TC_DATA") + "\nREVERSAL_DATA:" + data.getString("REVERSAL_DATA") + "\nERROR:" + data.getString("ERROR") + "\nSIGNATURE:" + data.getBoolean("SIGNATURE") + "\nCTLS_CVMR:" + data.getInt("CTLS_CVMR"));

            msg = "results:" + result + "\nTC_DATA:" + data.getString("TC_DATA") + "\nREVERSAL_DATA:" + data.getString("REVERSAL_DATA") + "\nERROR:" + data.getString("ERROR") + "\nSIGNATURE:" + data.getBoolean("SIGNATURE") + "\nCTLS_CVMR:" + data.getInt("CTLS_CVMR");
//            logUtils.addCaseLog(msg);
            Message message1 = new Message();
            message1.getData().putString("message", msg);
            handler.sendMessage(message1);
        }
    }

    public void MImportCardConfirmResult(boolean pass) {
        try {
            long startTime = System.currentTimeMillis();
            iEmv.importCardConfirmResult(pass);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("importCardConfirmResult executeTime" + (endTime - startTime));
        } catch (RemoteException e) {
            logUtils.addCaseLog("\nimportCardConfirmResult execute exception");
            e.printStackTrace();
        }
    }

    class MyOnlineResultHandler extends OnlineResultHandler.Stub {

        @Override
        public void onProccessResult(int result, Bundle data) throws RemoteException {
            logUtils.addCaseLog("\nOnProcessResult online post processing function");

            //判断是否联机成功，测试emv流程执行结果对于getEncryptData的影响
            if (result == 0){
                logUtils.addCaseLog("联机成功 result = "+result);
            }else {
                logUtils.addCaseLog("联机失败 result = "+result);
            }

            String str = "Online results callback, RESULT:" + result + "\nTC_DATA:" + data.getString("TC_DATA") + "\n" + "SCRIPT_DATA:" + data.getString("SCRIPT_DATA") + "\n" + "REVERSAL_DATA:" + data.getString("REVERSAL_DATA");
            Message message = new Message();
            message.getData().putString("message", str);
            handler.sendMessage(message);
//            logUtils.addCaseLog(str);
        }
    }

    public void MImportAmount(long amount) {
        try {
            long startTime = System.currentTimeMillis();
            iEmv.importAmount(amount);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("importAmount executeTime" + (endTime - startTime));
        } catch (RemoteException e) {
            logUtils.addCaseLog("importAmount execute exception");
            e.printStackTrace();
        }
    }

    public void MImportAppSelect(int index) {
        try {
            long startTime = System.currentTimeMillis();
            iEmv.importAppSelection(index);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("importAppSelect executeTime" + (endTime - startTime));
        } catch (RemoteException e) {
            logUtils.addCaseLog("importAppSelect execute exception");
            e.printStackTrace();
        }
    }


    public int MEmvProcessingRequestOnline() {
        try {
            long startTime = System.currentTimeMillis();
            int ret = iEmv.emvProcessingRequestOnline();
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("emvProcessingRequestOnline executeTime" + (endTime - startTime));
            logUtils.addCaseLog("emvProcessingRequestOnline execute:" + ret);
            return ret;
        } catch (Exception e) {
            logUtils.addCaseLog("emvProcessingRequestOnline execute exception");
            e.printStackTrace();
            return -1;
        }
    }

//    public void MAbortEMV() {
//        try {
//            long startTime = System.currentTimeMillis();
//            iEmv.abortEMV();
//            long endTime = System.currentTimeMillis();
//            logUtils.addCaseLog("abortEMV executeTime" + (endTime - startTime));
//        } catch (Exception e) {
//            logUtils.addCaseLog("abortEMV execute exception");
//            e.printStackTrace();
//        }
//    }

    public void MImportPin(int option, byte[] pin) {
        try {
            long startTime = System.currentTimeMillis();
            iEmv.importPin(option, pin);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("importPin executeTime" + (endTime - startTime));
        } catch (RemoteException e) {
            logUtils.addCaseLog("importPin execute exception");
            e.printStackTrace();
        }
    }

    public void MGetAppTLVList(String[] tagList) {
        try {
            long startTime = System.currentTimeMillis();
            String strs = iEmv.getAppTLVList(tagList);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("getAppTLVList executeTime" + (endTime - startTime));
            if (null != strs) {
                logUtils.addCaseLog("AppTLVList: " + strs);
            } else {
                logUtils.addCaseLog("Return length null");
            }
        } catch (Exception e) {
            logUtils.addCaseLog("getAppTLVList call exception");
            e.printStackTrace();
        }
    }

    public ArrayList<String> getApiList() {
        return apiList;
    }

    public ArrayList<ArrayList<String>> getCaseNames() {
        return caseNames;
    }

    public void runTheMethod(int groupPosition, int childPosition) {
        String name = caseNames.get(groupPosition).get(childPosition);
        logUtils.clearLog();
        try {
            Class aClass = Class.forName("moudles.SdeMoudle");
            Method method = aClass.getMethod(name);
            method.invoke(this);
            logUtils.addCaseLog(name + "Case execute completed");
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public void MImportOnlineResult(Bundle onlineResult, OnlineResultHandler handler) {
        try {
            long startTime = System.currentTimeMillis();
            iEmv.importOnlineResult(onlineResult, handler);
            long endTime = System.currentTimeMillis();
            logUtils.addCaseLog("importOnlineResult executeTime" + (endTime - startTime));
        } catch (RemoteException e) {
            e.printStackTrace();
        }
    }

    public void showTheCaseInfo(int groupPosition, int childPosition) {
        String name = caseNames.get(groupPosition).get(childPosition);
        logUtils.printCaseInfo(name);
    }

    private void printMsgTool(String msg){
        ((MyApplication) context).serviceMoudle.getPintBtMoudle().printMsg(msg);
        try{
            Thread.sleep(1000);
        } catch (Exception e){
            e.printStackTrace();
        }
    }
}

